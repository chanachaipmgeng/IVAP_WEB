<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  SubordinateFilter</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/services/subordinate-management.service.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#department" 
>
                                            department
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#performanceMax" 
>
                                            performanceMax
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#performanceMin" 
>
                                            performanceMin
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#position" 
>
                                            position
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#search" 
>
                                            search
                                        </a>
                                </li>
                                <li>
                                            <span class="modifier">Optional</span>
                                        <a href="#status" 
>
                                            status
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="department"></a>
                                        <span class="name "><b>department</b>
                                            <a href="#department">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>department:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="performanceMax"></a>
                                        <span class="name "><b>performanceMax</b>
                                            <a href="#performanceMax">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>performanceMax:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="performanceMin"></a>
                                        <span class="name "><b>performanceMin</b>
                                            <a href="#performanceMin">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>performanceMin:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="position"></a>
                                        <span class="name "><b>position</b>
                                            <a href="#position">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>position:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="search"></a>
                                        <span class="name "><b>search</b>
                                            <a href="#search">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>search:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="status"></a>
                                        <span class="name "><b>status</b>
                                            <a href="#status">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>status:         <code><a href="../interfaces/TeamMember.html#status" target="_self" >TeamMember['status']</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../interfaces/TeamMember.html#status" target="_self" >TeamMember['status']</a></code>

                                        </td>
                                    </tr>

                                    <tr>
                                        <td class="col-md-4">
                                            <i>Optional</i>
                                        </td>
                                    </tr>




                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, signal, computed } from &#x27;@angular/core&#x27;;
import { Observable } from &#x27;rxjs&#x27;;
import { EmployeeDisplay as Employee } from &#x27;../models/employee-display.model&#x27;;

export interface SubordinateTask {
  id: string;
  title: string;
  description: string;
  assignerId: string;
  assignerName: string;
  assigneeId: string;
  assigneeName: string;
  status: &#x27;pending&#x27; | &#x27;in_progress&#x27; | &#x27;completed&#x27; | &#x27;cancelled&#x27;;
  priority: &#x27;low&#x27; | &#x27;medium&#x27; | &#x27;high&#x27; | &#x27;urgent&#x27;;
  dueDate: Date;
  completedDate?: Date;
  progress: number; // 0-100
  comments: TaskComment[];
  attachments: string[];
  createdAt: Date;
  updatedAt: Date;
}

export interface TaskComment {
  id: string;
  authorId: string;
  authorName: string;
  content: string;
  createdAt: Date;
}

export interface PerformanceReview {
  id: string;
  employeeId: string;
  employeeName: string;
  reviewerId: string;
  reviewerName: string;
  period: {
    start: Date;
    end: Date;
  };
  status: &#x27;draft&#x27; | &#x27;submitted&#x27; | &#x27;approved&#x27; | &#x27;rejected&#x27;;
  ratings: {
    [category: string]: number; // 1-5 scale
  };
  goals: {
    [goalId: string]: {
      description: string;
      target: string;
      achieved: boolean;
      notes?: string;
    };
  };
  strengths: string[];
  areasForImprovement: string[];
  overallRating: number;
  comments: string;
  recommendations: string[];
  createdAt: Date;
  updatedAt: Date;
}

export interface TeamMember {
  id: string;
  name: string;
  position: string;
  department: string;
  avatar?: string;
  status: &#x27;active&#x27; | &#x27;inactive&#x27; | &#x27;on_leave&#x27;;
  lastActive: Date;
  currentTasks: number;
  completedTasks: number;
  performanceScore: number;
}

export interface TeamStats {
  totalMembers: number;
  activeMembers: number;
  totalTasks: number;
  completedTasks: number;
  pendingTasks: number;
  overdueTasks: number;
  averagePerformance: number;
  teamProductivity: number; // percentage
}

export interface SubordinateFilter {
  search?: string;
  status?: TeamMember[&#x27;status&#x27;];
  department?: string;
  position?: string;
  performanceMin?: number;
  performanceMax?: number;
}

@Injectable({
  providedIn: &#x27;root&#x27;
})
export class SubordinateManagementService {
  private tasksMap: Map&lt;string, SubordinateTask&gt; &#x3D; new Map();
  private performanceReviewsMap: Map&lt;string, PerformanceReview&gt; &#x3D; new Map();
  private teamMembersMap: Map&lt;string, TeamMember&gt; &#x3D; new Map();

  // ✅ Signals for reactive state
  private _tasks &#x3D; signal&lt;SubordinateTask[]&gt;([]);
  private _performanceReviews &#x3D; signal&lt;PerformanceReview[]&gt;([]);
  private _teamMembers &#x3D; signal&lt;TeamMember[]&gt;([]);
  private _teamStats &#x3D; signal&lt;TeamStats&gt;(this.getInitialTeamStats());

  // ✅ Readonly signals for public access
  public readonly tasks &#x3D; this._tasks.asReadonly();
  public readonly performanceReviews &#x3D; this._performanceReviews.asReadonly();
  public readonly teamMembers &#x3D; this._teamMembers.asReadonly();
  public readonly teamStats &#x3D; this._teamStats.asReadonly();

  // ✅ Computed signals for derived state
  public readonly tasksCount &#x3D; computed(() &#x3D;&gt; this._tasks().length);
  public readonly pendingTasksCount &#x3D; computed(() &#x3D;&gt; this._tasks().filter(t &#x3D;&gt; t.status &#x3D;&#x3D;&#x3D; &#x27;pending&#x27;).length);
  public readonly completedTasksCount &#x3D; computed(() &#x3D;&gt; this._tasks().filter(t &#x3D;&gt; t.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;).length);
  public readonly teamMembersCount &#x3D; computed(() &#x3D;&gt; this._teamMembers().length);
  public readonly activeMembersCount &#x3D; computed(() &#x3D;&gt; this._teamMembers().filter(m &#x3D;&gt; m.status &#x3D;&#x3D;&#x3D; &#x27;active&#x27;).length);

  constructor() {
    this.initializeSampleData();
  }

  /**
   * Initialize sample data
   */
  private initializeSampleData(): void {
    // Initialize team members
    const sampleTeamMembers: TeamMember[] &#x3D; [
      {
        id: &#x27;emp_002&#x27;,
        name: &#x27;สมหญิง รักงาน&#x27;,
        position: &#x27;Senior Developer&#x27;,
        department: &#x27;IT&#x27;,
        avatar: &#x27;https://via.placeholder.com/150/10B981/FFFFFF?text&#x3D;SY&#x27;,
        status: &#x27;active&#x27;,
        lastActive: new Date(),
        currentTasks: 3,
        completedTasks: 15,
        performanceScore: 4.2
      },
      {
        id: &#x27;emp_003&#x27;,
        name: &#x27;สมศักดิ์ ขยัน&#x27;,
        position: &#x27;Developer&#x27;,
        department: &#x27;IT&#x27;,
        avatar: &#x27;https://via.placeholder.com/150/F59E0B/FFFFFF?text&#x3D;SS&#x27;,
        status: &#x27;active&#x27;,
        lastActive: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
        currentTasks: 2,
        completedTasks: 8,
        performanceScore: 3.8
      },
      {
        id: &#x27;emp_004&#x27;,
        name: &#x27;สมพร เก่ง&#x27;,
        position: &#x27;Junior Developer&#x27;,
        department: &#x27;IT&#x27;,
        avatar: &#x27;https://via.placeholder.com/150/8B5CF6/FFFFFF?text&#x3D;SP&#x27;,
        status: &#x27;active&#x27;,
        lastActive: new Date(Date.now() - 30 * 60 * 1000), // 30 minutes ago
        currentTasks: 1,
        completedTasks: 5,
        performanceScore: 4.0
      }
    ];

    sampleTeamMembers.forEach(member &#x3D;&gt; {
      this.teamMembersMap.set(member.id, member);
    });

    this._teamMembers.set(Array.from(this.teamMembersMap.values()));

    // Initialize tasks
    const sampleTasks: SubordinateTask[] &#x3D; [
      {
        id: &#x27;task_001&#x27;,
        title: &#x27;พัฒนาระบบจัดการพนักงาน&#x27;,
        description: &#x27;พัฒนาระบบจัดการพนักงานใหม่ด้วย Angular และ Node.js&#x27;,
        assignerId: &#x27;emp_001&#x27;,
        assignerName: &#x27;สมชาย ใจดี&#x27;,
        assigneeId: &#x27;emp_002&#x27;,
        assigneeName: &#x27;สมหญิง รักงาน&#x27;,
        status: &#x27;in_progress&#x27;,
        priority: &#x27;high&#x27;,
        dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7 days from now
        progress: 65,
        comments: [
          {
            id: &#x27;comment_001&#x27;,
            authorId: &#x27;emp_002&#x27;,
            authorName: &#x27;สมหญิง รักงาน&#x27;,
            content: &#x27;กำลังดำเนินการอยู่ คาดว่าจะเสร็จใน 2-3 วัน&#x27;,
            createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000)
          }
        ],
        attachments: [&#x27;design_doc.pdf&#x27;],
        createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
        updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000)
      },
      {
        id: &#x27;task_002&#x27;,
        title: &#x27;แก้ไขบัคในระบบรายงาน&#x27;,
        description: &#x27;แก้ไขบัคที่เกิดขึ้นในระบบรายงานประจำเดือน&#x27;,
        assignerId: &#x27;emp_001&#x27;,
        assignerName: &#x27;สมชาย ใจดี&#x27;,
        assigneeId: &#x27;emp_003&#x27;,
        assigneeName: &#x27;สมศักดิ์ ขยัน&#x27;,
        status: &#x27;completed&#x27;,
        priority: &#x27;medium&#x27;,
        dueDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000), // 1 day ago
        completedDate: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
        progress: 100,
        comments: [
          {
            id: &#x27;comment_002&#x27;,
            authorId: &#x27;emp_003&#x27;,
            authorName: &#x27;สมศักดิ์ ขยัน&#x27;,
            content: &#x27;แก้ไขเสร็จแล้ว ระบบทำงานปกติ&#x27;,
            createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000)
          }
        ],
        attachments: [],
        createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
        updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000)
      },
      {
        id: &#x27;task_003&#x27;,
        title: &#x27;อัปเดตเอกสาร API&#x27;,
        description: &#x27;อัปเดตเอกสาร API สำหรับระบบใหม่&#x27;,
        assignerId: &#x27;emp_001&#x27;,
        assignerName: &#x27;สมชาย ใจดี&#x27;,
        assigneeId: &#x27;emp_004&#x27;,
        assigneeName: &#x27;สมพร เก่ง&#x27;,
        status: &#x27;pending&#x27;,
        priority: &#x27;low&#x27;,
        dueDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), // 14 days from now
        progress: 0,
        comments: [],
        attachments: [],
        createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
        updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000)
      }
    ];

    sampleTasks.forEach(task &#x3D;&gt; {
      this.tasksMap.set(task.id, task);
    });

    this._tasks.set(Array.from(this.tasksMap.values()));

    // Initialize performance reviews
    const sampleReviews: PerformanceReview[] &#x3D; [
      {
        id: &#x27;review_001&#x27;,
        employeeId: &#x27;emp_002&#x27;,
        employeeName: &#x27;สมหญิง รักงาน&#x27;,
        reviewerId: &#x27;emp_001&#x27;,
        reviewerName: &#x27;สมชาย ใจดี&#x27;,
        period: {
          start: new Date(&#x27;2024-01-01&#x27;),
          end: new Date(&#x27;2024-12-31&#x27;)
        },
        status: &#x27;approved&#x27;,
        ratings: {
          &#x27;technical_skills&#x27;: 4,
          &#x27;communication&#x27;: 4,
          &#x27;teamwork&#x27;: 5,
          &#x27;problem_solving&#x27;: 4,
          &#x27;leadership&#x27;: 3
        },
        goals: {
          &#x27;goal_001&#x27;: {
            description: &#x27;พัฒนาทักษะการเป็นผู้นำ&#x27;,
            target: &#x27;เข้าร่วมหลักสูตร Leadership Training&#x27;,
            achieved: true,
            notes: &#x27;เข้าร่วมหลักสูตรแล้วและได้ใบรับรอง&#x27;
          },
          &#x27;goal_002&#x27;: {
            description: &#x27;เพิ่มประสิทธิภาพการทำงาน&#x27;,
            target: &#x27;ลดเวลาการพัฒนาระบบลง 20%&#x27;,
            achieved: true,
            notes: &#x27;ใช้เครื่องมือใหม่ช่วยเพิ่มประสิทธิภาพ&#x27;
          }
        },
        strengths: [&#x27;ทักษะทางเทคนิคดี&#x27;, &#x27;ทำงานเป็นทีมได้ดี&#x27;, &#x27;แก้ไขปัญหาได้เร็ว&#x27;],
        areasForImprovement: [&#x27;การเป็นผู้นำ&#x27;, &#x27;การนำเสนอผลงาน&#x27;],
        overallRating: 4.2,
        comments: &#x27;พนักงานที่มีศักยภาพสูง ควรส่งเสริมให้เป็นผู้นำทีม&#x27;,
        recommendations: [&#x27;ส่งไปอบรมหลักสูตร Leadership&#x27;, &#x27;ให้โอกาสนำโครงการใหม่&#x27;],
        createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),
        updatedAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000)
      }
    ];

    sampleReviews.forEach(review &#x3D;&gt; {
      this.performanceReviewsMap.set(review.id, review);
    });

    this._performanceReviews.set(Array.from(this.performanceReviewsMap.values()));
    this.updateTeamStats();
  }

  /**
   * Get all tasks
   */
  public getTasks(): SubordinateTask[] {
    return Array.from(this.tasksMap.values());
  }

  /**
   * Get tasks by assigner
   */
  public getTasksByAssigner(assignerId: string): SubordinateTask[] {
    return Array.from(this.tasksMap.values()).filter(task &#x3D;&gt; task.assignerId &#x3D;&#x3D;&#x3D; assignerId);
  }

  /**
   * Get tasks by assignee
   */
  public getTasksByAssignee(assigneeId: string): SubordinateTask[] {
    return Array.from(this.tasksMap.values()).filter(task &#x3D;&gt; task.assigneeId &#x3D;&#x3D;&#x3D; assigneeId);
  }

  /**
   * Get task by ID
   */
  public getTaskById(id: string): SubordinateTask | undefined {
    return this.tasksMap.get(id);
  }

  /**
   * Create new task
   */
  public createTask(task: Omit&lt;SubordinateTask, &#x27;id&#x27; | &#x27;createdAt&#x27; | &#x27;updatedAt&#x27;&gt;): string {
    const id &#x3D; this.generateId();
    const newTask: SubordinateTask &#x3D; {
      ...task,
      id,
      createdAt: new Date(),
      updatedAt: new Date()
    };

    this.tasksMap.set(id, newTask);
    this._tasks.set(Array.from(this.tasksMap.values()));
    this.updateTeamStats();

    return id;
  }

  /**
   * Update task
   */
  public updateTask(id: string, updates: Partial&lt;SubordinateTask&gt;): boolean {
    const task &#x3D; this.tasksMap.get(id);
    if (!task) return false;

    const updatedTask: SubordinateTask &#x3D; {
      ...task,
      ...updates,
      updatedAt: new Date()
    };

    this.tasksMap.set(id, updatedTask);
    this._tasks.set(Array.from(this.tasksMap.values()));
    this.updateTeamStats();

    return true;
  }

  /**
   * Add task comment
   */
  public addTaskComment(taskId: string, comment: Omit&lt;TaskComment, &#x27;id&#x27; | &#x27;createdAt&#x27;&gt;): boolean {
    const task &#x3D; this.tasksMap.get(taskId);
    if (!task) return false;

    const newComment: TaskComment &#x3D; {
      ...comment,
      id: this.generateId(),
      createdAt: new Date()
    };

    task.comments.push(newComment);
    task.updatedAt &#x3D; new Date();

    this.tasksMap.set(taskId, task);
    this._tasks.set(Array.from(this.tasksMap.values()));

    return true;
  }

  /**
   * Update task progress
   */
  public updateTaskProgress(taskId: string, progress: number): boolean {
    const task &#x3D; this.tasksMap.get(taskId);
    if (!task) return false;

    task.progress &#x3D; Math.max(0, Math.min(100, progress));

    if (progress &#x3D;&#x3D;&#x3D; 100 &amp;&amp; task.status !&#x3D;&#x3D; &#x27;completed&#x27;) {
      task.status &#x3D; &#x27;completed&#x27;;
      task.completedDate &#x3D; new Date();
    } else if (progress &gt; 0 &amp;&amp; task.status &#x3D;&#x3D;&#x3D; &#x27;pending&#x27;) {
      task.status &#x3D; &#x27;in_progress&#x27;;
    }

    task.updatedAt &#x3D; new Date();

    this.tasksMap.set(taskId, task);
    this._tasks.set(Array.from(this.tasksMap.values()));
    this.updateTeamStats();

    return true;
  }

  /**
   * Get all team members
   */
  public getTeamMembers(): TeamMember[] {
    return Array.from(this.teamMembersMap.values());
  }

  /**
   * Get team member by ID
   */
  public getTeamMemberById(id: string): TeamMember | undefined {
    return this.teamMembersMap.get(id);
  }

  /**
   * Filter team members
   */
  public filterTeamMembers(filter: SubordinateFilter): TeamMember[] {
    let filtered &#x3D; Array.from(this.teamMembersMap.values());

    if (filter.search) {
      const searchTerm &#x3D; filter.search.toLowerCase();
      filtered &#x3D; filtered.filter(member &#x3D;&gt;
        member.name.toLowerCase().includes(searchTerm) ||
        member.position.toLowerCase().includes(searchTerm) ||
        member.department.toLowerCase().includes(searchTerm)
      );
    }

    if (filter.status) {
      filtered &#x3D; filtered.filter(member &#x3D;&gt; member.status &#x3D;&#x3D;&#x3D; filter.status);
    }

    if (filter.department) {
      filtered &#x3D; filtered.filter(member &#x3D;&gt; member.department &#x3D;&#x3D;&#x3D; filter.department);
    }

    if (filter.position) {
      filtered &#x3D; filtered.filter(member &#x3D;&gt; member.position &#x3D;&#x3D;&#x3D; filter.position);
    }

    if (filter.performanceMin !&#x3D;&#x3D; undefined) {
      filtered &#x3D; filtered.filter(member &#x3D;&gt; member.performanceScore &gt;&#x3D; filter.performanceMin!);
    }

    if (filter.performanceMax !&#x3D;&#x3D; undefined) {
      filtered &#x3D; filtered.filter(member &#x3D;&gt; member.performanceScore &lt;&#x3D; filter.performanceMax!);
    }

    return filtered;
  }

  /**
   * Get performance reviews
   */
  public getPerformanceReviews(): PerformanceReview[] {
    return Array.from(this.performanceReviewsMap.values());
  }

  /**
   * Get performance review by ID
   */
  public getPerformanceReviewById(id: string): PerformanceReview | undefined {
    return this.performanceReviewsMap.get(id);
  }

  /**
   * Get performance reviews by employee
   */
  public getPerformanceReviewsByEmployee(employeeId: string): PerformanceReview[] {
    return Array.from(this.performanceReviewsMap.values()).filter(review &#x3D;&gt; review.employeeId &#x3D;&#x3D;&#x3D; employeeId);
  }

  /**
   * Create performance review
   */
  public createPerformanceReview(review: Omit&lt;PerformanceReview, &#x27;id&#x27; | &#x27;createdAt&#x27; | &#x27;updatedAt&#x27;&gt;): string {
    const id &#x3D; this.generateId();
    const newReview: PerformanceReview &#x3D; {
      ...review,
      id,
      createdAt: new Date(),
      updatedAt: new Date()
    };

    this.performanceReviewsMap.set(id, newReview);
    this._performanceReviews.set(Array.from(this.performanceReviewsMap.values()));

    return id;
  }

  /**
   * Update performance review
   */
  public updatePerformanceReview(id: string, updates: Partial&lt;PerformanceReview&gt;): boolean {
    const review &#x3D; this.performanceReviewsMap.get(id);
    if (!review) return false;

    const updatedReview: PerformanceReview &#x3D; {
      ...review,
      ...updates,
      updatedAt: new Date()
    };

    this.performanceReviewsMap.set(id, updatedReview);
    this._performanceReviews.set(Array.from(this.performanceReviewsMap.values()));

    return true;
  }

  /**
   * Get team statistics
   */
  public getTeamStats(): TeamStats {
    return this.calculateTeamStats();
  }

  /**
   * Calculate team statistics
   */
  private calculateTeamStats(): TeamStats {
    const members &#x3D; Array.from(this.teamMembersMap.values());
    const tasks &#x3D; Array.from(this.tasksMap.values());
    const now &#x3D; new Date();

    const activeMembers &#x3D; members.filter(member &#x3D;&gt; member.status &#x3D;&#x3D;&#x3D; &#x27;active&#x27;).length;
    const completedTasks &#x3D; tasks.filter(task &#x3D;&gt; task.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;).length;
    const pendingTasks &#x3D; tasks.filter(task &#x3D;&gt; task.status &#x3D;&#x3D;&#x3D; &#x27;pending&#x27; || task.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;).length;
    const overdueTasks &#x3D; tasks.filter(task &#x3D;&gt;
      (task.status &#x3D;&#x3D;&#x3D; &#x27;pending&#x27; || task.status &#x3D;&#x3D;&#x3D; &#x27;in_progress&#x27;) &amp;&amp;
      task.dueDate &lt; now
    ).length;

    const averagePerformance &#x3D; members.length &gt; 0 ?
      members.reduce((sum, member) &#x3D;&gt; sum + member.performanceScore, 0) / members.length : 0;

    const teamProductivity &#x3D; tasks.length &gt; 0 ? (completedTasks / tasks.length) * 100 : 0;

    return {
      totalMembers: members.length,
      activeMembers,
      totalTasks: tasks.length,
      completedTasks,
      pendingTasks,
      overdueTasks,
      averagePerformance,
      teamProductivity
    };
  }

  /**
   * Update team statistics
   */
  private updateTeamStats(): void {
    const stats &#x3D; this.calculateTeamStats();
    this._teamStats.set(stats);
  }

  /**
   * Get initial team stats
   */
  private getInitialTeamStats(): TeamStats {
    return {
      totalMembers: 0,
      activeMembers: 0,
      totalTasks: 0,
      completedTasks: 0,
      pendingTasks: 0,
      overdueTasks: 0,
      averagePerformance: 0,
      teamProductivity: 0
    };
  }

  /**
   * Export subordinate data
   */
  public exportSubordinateData(): string {
    const data &#x3D; {
      tasks: Array.from(this.tasksMap.values()),
      performanceReviews: Array.from(this.performanceReviewsMap.values()),
      teamMembers: Array.from(this.teamMembersMap.values()),
      exportDate: new Date().toISOString()
    };
    return JSON.stringify(data, null, 2);
  }

  /**
   * Import subordinate data
   */
  public importSubordinateData(data: string): void {
    try {
      const imported &#x3D; JSON.parse(data);

      if (imported.tasks) {
        imported.tasks.forEach((task: any) &#x3D;&gt; {
          task.dueDate &#x3D; new Date(task.dueDate);
          if (task.completedDate) task.completedDate &#x3D; new Date(task.completedDate);
          task.comments.forEach((comment: any) &#x3D;&gt; {
            comment.createdAt &#x3D; new Date(comment.createdAt);
          });
          task.createdAt &#x3D; new Date(task.createdAt);
          task.updatedAt &#x3D; new Date(task.updatedAt);
          this.tasksMap.set(task.id, task);
        });
        this._tasks.set(Array.from(this.tasksMap.values()));
      }

      if (imported.performanceReviews) {
        imported.performanceReviews.forEach((review: any) &#x3D;&gt; {
          review.period.start &#x3D; new Date(review.period.start);
          review.period.end &#x3D; new Date(review.period.end);
          review.createdAt &#x3D; new Date(review.createdAt);
          review.updatedAt &#x3D; new Date(review.updatedAt);
          this.performanceReviewsMap.set(review.id, review);
        });
        this._performanceReviews.set(Array.from(this.performanceReviewsMap.values()));
      }

      if (imported.teamMembers) {
        imported.teamMembers.forEach((member: any) &#x3D;&gt; {
          member.lastActive &#x3D; new Date(member.lastActive);
          this.teamMembersMap.set(member.id, member);
        });
        this._teamMembers.set(Array.from(this.teamMembersMap.values()));
      }

      this.updateTeamStats();
    } catch (error) {
      console.error(&#x27;Failed to import subordinate data:&#x27;, error);
      throw error;
    }
  }

  /**
   * Generate unique ID
   */
  private generateId(): string {
    return &#x27;sub_&#x27; + Date.now() + &#x27;_&#x27; + Math.random().toString(36).substr(2, 9);
  }
}

</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'SubordinateFilter.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
