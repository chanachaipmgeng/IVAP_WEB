<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  RecordingSettings</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/core/services/camera-integration.service.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#cameraId" 
>
                                            cameraId
                                        </a>
                                </li>
                                <li>
                                        <a href="#enabled" 
>
                                            enabled
                                        </a>
                                </li>
                                <li>
                                        <a href="#motionOnly" 
>
                                            motionOnly
                                        </a>
                                </li>
                                <li>
                                        <a href="#postRecord" 
>
                                            postRecord
                                        </a>
                                </li>
                                <li>
                                        <a href="#preRecord" 
>
                                            preRecord
                                        </a>
                                </li>
                                <li>
                                        <a href="#quality" 
>
                                            quality
                                        </a>
                                </li>
                                <li>
                                        <a href="#retention" 
>
                                            retention
                                        </a>
                                </li>
                                <li>
                                        <a href="#schedule" 
>
                                            schedule
                                        </a>
                                </li>
                                <li>
                                        <a href="#storage" 
>
                                            storage
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="cameraId"></a>
                                        <span class="name "><b>cameraId</b>
                                            <a href="#cameraId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>cameraId:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="enabled"></a>
                                        <span class="name "><b>enabled</b>
                                            <a href="#enabled">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>enabled:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="motionOnly"></a>
                                        <span class="name "><b>motionOnly</b>
                                            <a href="#motionOnly">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>motionOnly:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="postRecord"></a>
                                        <span class="name "><b>postRecord</b>
                                            <a href="#postRecord">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>postRecord:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="preRecord"></a>
                                        <span class="name "><b>preRecord</b>
                                            <a href="#preRecord">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>preRecord:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="quality"></a>
                                        <span class="name "><b>quality</b>
                                            <a href="#quality">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>quality:     <code>&quot;low&quot; | &quot;medium&quot; | &quot;high&quot; | &quot;ultra&quot;</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>&quot;low&quot; | &quot;medium&quot; | &quot;high&quot; | &quot;ultra&quot;</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="retention"></a>
                                        <span class="name "><b>retention</b>
                                            <a href="#retention">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>retention:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="schedule"></a>
                                        <span class="name "><b>schedule</b>
                                            <a href="#schedule">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>schedule:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="storage"></a>
                                        <span class="name "><b>storage</b>
                                            <a href="#storage">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>storage:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, signal, computed } from &#x27;@angular/core&#x27;;
import { Observable, throwError, timer } from &#x27;rxjs&#x27;;
import { catchError, map, retry, retryWhen, delay, take } from &#x27;rxjs/operators&#x27;;

export interface CameraDevice {
  id: string;
  name: string;
  type: &#x27;CCTV&#x27; | &#x27;NVR&#x27; | &#x27;IP_CAMERA&#x27; | &#x27;ANALOG_CAMERA&#x27;;
  brand: string;
  model: string;
  ipAddress: string;
  port: number;
  username: string;
  status: &#x27;online&#x27; | &#x27;offline&#x27; | &#x27;error&#x27; | &#x27;maintenance&#x27;;
  resolution: string;
  fps: number;
  bitrate: number;
  codec: &#x27;H264&#x27; | &#x27;H265&#x27; | &#x27;MJPEG&#x27;;
  nightVision: boolean;
  panTiltZoom: boolean;
  audio: boolean;
  motionDetection: boolean;
  recording: boolean;
  lastSeen: Date;
  location: {
    building: string;
    floor: string;
    room: string;
    coordinates?: { x: number; y: number };
  };
  settings: CameraSettings;
  capabilities: CameraCapabilities;
}

export interface CameraSettings {
  brightness: number;
  contrast: number;
  saturation: number;
  hue: number;
  sharpness: number;
  exposure: &#x27;auto&#x27; | &#x27;manual&#x27;;
  whiteBalance: &#x27;auto&#x27; | &#x27;manual&#x27;;
  focus: &#x27;auto&#x27; | &#x27;manual&#x27;;
  zoom: number;
  pan: number;
  tilt: number;
  nightMode: boolean;
  motionSensitivity: number;
  recordingQuality: &#x27;low&#x27; | &#x27;medium&#x27; | &#x27;high&#x27; | &#x27;ultra&#x27;;
  audioEnabled: boolean;
  privacyMasking: boolean;
  privacyZones: Array&lt;{
    id: string;
    name: string;
    coordinates: Array&lt;{ x: number; y: number }&gt;;
    enabled: boolean;
  }&gt;;
}

export interface CameraCapabilities {
  maxResolution: string;
  supportedResolutions: string[];
  supportedFPS: number[];
  supportedCodecs: string[];
  hasNightVision: boolean;
  hasPanTiltZoom: boolean;
  hasAudio: boolean;
  hasMotionDetection: boolean;
  hasRecording: boolean;
  hasPrivacyMasking: boolean;
  hasAudioDetection: boolean;
  hasLineCrossing: boolean;
  hasIntrusionDetection: boolean;
  hasFaceDetection: boolean;
  hasLicensePlateRecognition: boolean;
}

export interface CameraStream {
  id: string;
  cameraId: string;
  streamType: &#x27;main&#x27; | &#x27;sub&#x27; | &#x27;snapshot&#x27;;
  resolution: string;
  fps: number;
  bitrate: number;
  codec: string;
  url: string;
  status: &#x27;active&#x27; | &#x27;inactive&#x27; | &#x27;error&#x27;;
  viewers: number;
  bandwidth: number;
  latency: number;
  quality: &#x27;excellent&#x27; | &#x27;good&#x27; | &#x27;fair&#x27; | &#x27;poor&#x27;;
}

export interface RecordingSettings {
  cameraId: string;
  enabled: boolean;
  schedule: {
    always: boolean;
    timeRanges: Array&lt;{
      start: string;
      end: string;
      days: number[];
    }&gt;;
  };
  motionOnly: boolean;
  quality: &#x27;low&#x27; | &#x27;medium&#x27; | &#x27;high&#x27; | &#x27;ultra&#x27;;
  retention: number; // days
  storage: {
    local: boolean;
    cloud: boolean;
    nas: boolean;
    path: string;
  };
  preRecord: number; // seconds
  postRecord: number; // seconds
}

export interface CameraEvent {
  id: string;
  cameraId: string;
  type: &#x27;motion&#x27; | &#x27;audio&#x27; | &#x27;line_crossing&#x27; | &#x27;intrusion&#x27; | &#x27;face_detection&#x27; | &#x27;license_plate&#x27; | &#x27;tampering&#x27; | &#x27;disconnection&#x27;;
  timestamp: Date;
  confidence: number;
  location: {
    x: number;
    y: number;
    width: number;
    height: number;
  };
  description: string;
  severity: &#x27;low&#x27; | &#x27;medium&#x27; | &#x27;high&#x27; | &#x27;critical&#x27;;
  acknowledged: boolean;
  imageUrl?: string;
  videoUrl?: string;
  metadata: Record&lt;string, any&gt;;
}

@Injectable({
  providedIn: &#x27;root&#x27;
})
export class CameraIntegrationService {
  // ✅ Signals for reactive state
  private _cameras &#x3D; signal&lt;CameraDevice[]&gt;([]);
  private _streams &#x3D; signal&lt;CameraStream[]&gt;([]);
  private _events &#x3D; signal&lt;CameraEvent[]&gt;([]);
  private _isConnected &#x3D; signal&lt;boolean&gt;(false);
  private _connectionStatus &#x3D; signal&lt;string&gt;(&#x27;disconnected&#x27;);

  // ✅ Readonly signals for public access
  public readonly cameras &#x3D; this._cameras.asReadonly();
  public readonly streams &#x3D; this._streams.asReadonly();
  public readonly events &#x3D; this._events.asReadonly();
  public readonly isConnected &#x3D; this._isConnected.asReadonly();
  public readonly connectionStatus &#x3D; this._connectionStatus.asReadonly();

  // ✅ Computed signals for derived state
  public readonly camerasCount &#x3D; computed(() &#x3D;&gt; this._cameras().length);
  public readonly onlineCamerasCount &#x3D; computed(() &#x3D;&gt; this._cameras().filter(c &#x3D;&gt; c.status &#x3D;&#x3D;&#x3D; &#x27;online&#x27;).length);
  public readonly streamsCount &#x3D; computed(() &#x3D;&gt; this._streams().length);
  public readonly activeStreamsCount &#x3D; computed(() &#x3D;&gt; this._streams().filter(s &#x3D;&gt; s.status &#x3D;&#x3D;&#x3D; &#x27;active&#x27;).length);
  public readonly eventsCount &#x3D; computed(() &#x3D;&gt; this._events().length);
  public readonly unacknowledgedEventsCount &#x3D; computed(() &#x3D;&gt; this._events().filter(e &#x3D;&gt; !e.acknowledged).length);

  // ✅ Observable compatibility layer (for backward compatibility)
  public cameras$ &#x3D; new Observable&lt;CameraDevice[]&gt;(observer &#x3D;&gt; {
    observer.next(this._cameras());
    // Note: This is a compatibility layer - prefer using signals directly
  });
  public streams$ &#x3D; new Observable&lt;CameraStream[]&gt;(observer &#x3D;&gt; {
    observer.next(this._streams());
    // Note: This is a compatibility layer - prefer using signals directly
  });
  public events$ &#x3D; new Observable&lt;CameraEvent[]&gt;(observer &#x3D;&gt; {
    observer.next(this._events());
    // Note: This is a compatibility layer - prefer using signals directly
  });
  public isConnected$ &#x3D; new Observable&lt;boolean&gt;(observer &#x3D;&gt; {
    observer.next(this._isConnected());
    // Note: This is a compatibility layer - prefer using signals directly
  });
  public connectionStatus$ &#x3D; new Observable&lt;string&gt;(observer &#x3D;&gt; {
    observer.next(this._connectionStatus());
    // Note: This is a compatibility layer - prefer using signals directly
  });

  constructor() {
    this.initializeService();
  }

  private initializeService(): void {
    // Simulate initial camera discovery
    this.discoverCameras().subscribe({
      next: (cameras) &#x3D;&gt; {
        this._cameras.set(cameras);
        this._isConnected.set(true);
        this._connectionStatus.set(&#x27;connected&#x27;);
      },
      error: (error) &#x3D;&gt; {
        console.error(&#x27;Camera discovery failed:&#x27;, error);
        this._isConnected.set(false);
        this._connectionStatus.set(&#x27;error&#x27;);
      }
    });
  }

  // Camera Management
  getCameras(): Observable&lt;CameraDevice[]&gt; {
    // Return observable for backward compatibility
    return new Observable(observer &#x3D;&gt; {
      observer.next(this._cameras());
      // Note: This is a compatibility layer - prefer using signals directly
    });
  }

  getCamera(id: string): CameraDevice | undefined {
    return this._cameras().find(camera &#x3D;&gt; camera.id &#x3D;&#x3D;&#x3D; id);
  }

  addCamera(camera: Omit&lt;CameraDevice, &#x27;id&#x27; | &#x27;lastSeen&#x27; | &#x27;status&#x27;&gt;): Observable&lt;CameraDevice&gt; {
    const newCamera: CameraDevice &#x3D; {
      ...camera,
      id: this.generateId(),
      lastSeen: new Date(),
      status: &#x27;offline&#x27;
    };

    return this.connectToCamera(newCamera).pipe(
      map(connectedCamera &#x3D;&gt; {
        this._cameras.update(cameras &#x3D;&gt; [...cameras, connectedCamera]);
        return connectedCamera;
      }),
      catchError(error &#x3D;&gt; {
        console.error(&#x27;Failed to add camera:&#x27;, error);
        return throwError(() &#x3D;&gt; error);
      })
    );
  }

  updateCamera(id: string, updates: Partial&lt;CameraDevice&gt;): Observable&lt;CameraDevice&gt; {
    this._cameras.update(cameras &#x3D;&gt; {
      const index &#x3D; cameras.findIndex(camera &#x3D;&gt; camera.id &#x3D;&#x3D;&#x3D; id);
      if (index &#x3D;&#x3D;&#x3D; -1) return cameras;

      cameras[index] &#x3D; { ...cameras[index], ...updates };
      return [...cameras];
    });

    const updatedCamera &#x3D; this._cameras().find(c &#x3D;&gt; c.id &#x3D;&#x3D;&#x3D; id);
    if (!updatedCamera) {
      return throwError(() &#x3D;&gt; new Error(&#x27;Camera not found&#x27;));
    }

    return this.updateCameraSettings(id, updates.settings || {}).pipe(
      map(() &#x3D;&gt; updatedCamera),
      catchError(error &#x3D;&gt; {
        console.error(&#x27;Failed to update camera:&#x27;, error);
        return throwError(() &#x3D;&gt; error);
      })
    );
  }

  removeCamera(id: string): Observable&lt;boolean&gt; {
    const cameras &#x3D; this._cameras();
    const filteredCameras &#x3D; cameras.filter(camera &#x3D;&gt; camera.id !&#x3D;&#x3D; id);
    this._cameras.set(filteredCameras);

    return this.disconnectFromCamera(id).pipe(
      map(() &#x3D;&gt; true),
      catchError(error &#x3D;&gt; {
        console.error(&#x27;Failed to remove camera:&#x27;, error);
        return throwError(() &#x3D;&gt; error);
      })
    );
  }

  // Camera Discovery
  discoverCameras(): Observable&lt;CameraDevice[]&gt; {
    // Simulate camera discovery process
    return new Observable(observer &#x3D;&gt; {
      const discoveredCameras: CameraDevice[] &#x3D; [
        {
          id: &#x27;cam-001&#x27;,
          name: &#x27;Main Entrance Camera&#x27;,
          type: &#x27;IP_CAMERA&#x27;,
          brand: &#x27;Hikvision&#x27;,
          model: &#x27;DS-2CD2143G0-I&#x27;,
          ipAddress: &#x27;192.168.1.100&#x27;,
          port: 80,
          username: &#x27;admin&#x27;,
          status: &#x27;online&#x27;,
          resolution: &#x27;1920x1080&#x27;,
          fps: 30,
          bitrate: 4096,
          codec: &#x27;H264&#x27;,
          nightVision: true,
          panTiltZoom: false,
          audio: true,
          motionDetection: true,
          recording: true,
          lastSeen: new Date(),
          location: {
            building: &#x27;Main Building&#x27;,
            floor: &#x27;Ground Floor&#x27;,
            room: &#x27;Entrance&#x27;,
            coordinates: { x: 100, y: 200 }
          },
          settings: this.getDefaultSettings(),
          capabilities: this.getDefaultCapabilities()
        },
        {
          id: &#x27;cam-002&#x27;,
          name: &#x27;Parking Lot Camera&#x27;,
          type: &#x27;CCTV&#x27;,
          brand: &#x27;Dahua&#x27;,
          model: &#x27;N45CG52&#x27;,
          ipAddress: &#x27;192.168.1.101&#x27;,
          port: 80,
          username: &#x27;admin&#x27;,
          status: &#x27;online&#x27;,
          resolution: &#x27;2560x1440&#x27;,
          fps: 25,
          bitrate: 6144,
          codec: &#x27;H265&#x27;,
          nightVision: true,
          panTiltZoom: true,
          audio: false,
          motionDetection: true,
          recording: true,
          lastSeen: new Date(),
          location: {
            building: &#x27;Main Building&#x27;,
            floor: &#x27;Basement&#x27;,
            room: &#x27;Parking Lot&#x27;,
            coordinates: { x: 150, y: 300 }
          },
          settings: this.getDefaultSettings(),
          capabilities: this.getDefaultCapabilities()
        }
      ];

      // Simulate discovery delay
      timer(1000).subscribe(() &#x3D;&gt; {
        observer.next(discoveredCameras);
        observer.complete();
      });
    });
  }

  // Camera Connection
  connectToCamera(camera: CameraDevice): Observable&lt;CameraDevice&gt; {
    return new Observable(observer &#x3D;&gt; {
      // Simulate connection process
      timer(2000).subscribe(() &#x3D;&gt; {
        const connectedCamera &#x3D; {
          ...camera,
          status: &#x27;online&#x27; as const,
          lastSeen: new Date()
        };
        observer.next(connectedCamera);
        observer.complete();
      });
    });
  }

  disconnectFromCamera(cameraId: string): Observable&lt;boolean&gt; {
    return new Observable(observer &#x3D;&gt; {
      // Simulate disconnection process
      timer(1000).subscribe(() &#x3D;&gt; {
        observer.next(true);
        observer.complete();
      });
    });
  }

  // Camera Settings
  updateCameraSettings(cameraId: string, settings: Partial&lt;CameraSettings&gt;): Observable&lt;boolean&gt; {
    return new Observable(observer &#x3D;&gt; {
      // Simulate settings update
      timer(500).subscribe(() &#x3D;&gt; {
        const cameras &#x3D; this._cameras();
        const index &#x3D; cameras.findIndex(camera &#x3D;&gt; camera.id &#x3D;&#x3D;&#x3D; cameraId);

        if (index !&#x3D;&#x3D; -1) {
          cameras[index].settings &#x3D; { ...cameras[index].settings, ...settings };
          this._cameras.set([...cameras]);
        }

        observer.next(true);
        observer.complete();
      });
    });
  }

  // Camera Control
  controlCamera(cameraId: string, action: string, params: any &#x3D; {}): Observable&lt;boolean&gt; {
    return new Observable(observer &#x3D;&gt; {
      // Simulate camera control
      timer(300).subscribe(() &#x3D;&gt; {
        // Camera action executed
        observer.next(true);
        observer.complete();
      });
    });
  }

  // Stream Management
  getStreams(): Observable&lt;CameraStream[]&gt; {
    // Return observable for backward compatibility
    return new Observable(observer &#x3D;&gt; {
      observer.next(this._streams());
      // Note: This is a compatibility layer - prefer using signals directly
    });
  }

  startStream(cameraId: string, streamType: &#x27;main&#x27; | &#x27;sub&#x27; | &#x27;snapshot&#x27; &#x3D; &#x27;main&#x27;): Observable&lt;CameraStream&gt; {
    return new Observable(observer &#x3D;&gt; {
      const stream: CameraStream &#x3D; {
        id: this.generateId(),
        cameraId,
        streamType,
        resolution: &#x27;1920x1080&#x27;,
        fps: 30,
        bitrate: 4096,
        codec: &#x27;H264&#x27;,
        url: &#x60;rtsp://192.168.1.${Math.floor(Math.random() * 255)}/stream&#x60;,
        status: &#x27;active&#x27;,
        viewers: 1,
        bandwidth: 4096,
        latency: 50,
        quality: &#x27;excellent&#x27;
      };

      this._streams.update(streams &#x3D;&gt; [...streams, stream]);

      observer.next(stream);
      observer.complete();
    });
  }

  stopStream(streamId: string): Observable&lt;boolean&gt; {
    this._streams.update(streams &#x3D;&gt; streams.filter(stream &#x3D;&gt; stream.id !&#x3D;&#x3D; streamId));

    return new Observable(observer &#x3D;&gt; {
      observer.next(true);
      observer.complete();
    });
  }

  // Recording Management
  startRecording(cameraId: string, settings: Partial&lt;RecordingSettings&gt;): Observable&lt;boolean&gt; {
    return new Observable(observer &#x3D;&gt; {
      timer(500).subscribe(() &#x3D;&gt; {
        const cameras &#x3D; this._cameras();
        const index &#x3D; cameras.findIndex(camera &#x3D;&gt; camera.id &#x3D;&#x3D;&#x3D; cameraId);

        if (index !&#x3D;&#x3D; -1) {
          cameras[index].recording &#x3D; true;
          this._cameras.set([...cameras]);
        }

        observer.next(true);
        observer.complete();
      });
    });
  }

  stopRecording(cameraId: string): Observable&lt;boolean&gt; {
    return new Observable(observer &#x3D;&gt; {
      timer(500).subscribe(() &#x3D;&gt; {
        const cameras &#x3D; this._cameras();
        const index &#x3D; cameras.findIndex(camera &#x3D;&gt; camera.id &#x3D;&#x3D;&#x3D; cameraId);

        if (index !&#x3D;&#x3D; -1) {
          cameras[index].recording &#x3D; false;
          this._cameras.set([...cameras]);
        }

        observer.next(true);
        observer.complete();
      });
    });
  }

  // Event Management
  getEvents(): Observable&lt;CameraEvent[]&gt; {
    // Return observable for backward compatibility
    return new Observable(observer &#x3D;&gt; {
      observer.next(this._events());
      // Note: This is a compatibility layer - prefer using signals directly
    });
  }

  getEventsByCamera(cameraId: string): CameraEvent[] {
    return this._events().filter(event &#x3D;&gt; event.cameraId &#x3D;&#x3D;&#x3D; cameraId);
  }

  acknowledgeEvent(eventId: string): Observable&lt;boolean&gt; {
    this._events.update(events &#x3D;&gt; {
      const index &#x3D; events.findIndex(event &#x3D;&gt; event.id &#x3D;&#x3D;&#x3D; eventId);
      if (index !&#x3D;&#x3D; -1) {
        events[index].acknowledged &#x3D; true;
        return [...events];
      }
      return events;
    });

    return new Observable(observer &#x3D;&gt; {
      observer.next(true);
      observer.complete();
    });
  }

  // Status Monitoring
  getConnectionStatus(): boolean {
    return this._isConnected();
  }

  getConnectionStatusText(): string {
    return this._connectionStatus();
  }

  // Health Check
  performHealthCheck(): Observable&lt;{ status: string; cameras: number; issues: string[] }&gt; {
    return new Observable(observer &#x3D;&gt; {
      const cameras &#x3D; this._cameras();
      const onlineCameras &#x3D; cameras.filter(camera &#x3D;&gt; camera.status &#x3D;&#x3D;&#x3D; &#x27;online&#x27;);
      const issues: string[] &#x3D; [];

      if (onlineCameras.length &#x3D;&#x3D;&#x3D; 0) {
        issues.push(&#x27;No cameras online&#x27;);
      }

      if (onlineCameras.length &lt; cameras.length) {
        issues.push(&#x60;${cameras.length - onlineCameras.length} cameras offline&#x60;);
      }

      const status &#x3D; issues.length &#x3D;&#x3D;&#x3D; 0 ? &#x27;healthy&#x27; : &#x27;warning&#x27;;

      observer.next({
        status,
        cameras: onlineCameras.length,
        issues
      });
      observer.complete();
    });
  }

  // Utility Methods
  private generateId(): string {
    return &#x27;cam-&#x27; + Math.random().toString(36).substr(2, 9);
  }

  private getDefaultSettings(): CameraSettings {
    return {
      brightness: 50,
      contrast: 50,
      saturation: 50,
      hue: 0,
      sharpness: 50,
      exposure: &#x27;auto&#x27;,
      whiteBalance: &#x27;auto&#x27;,
      focus: &#x27;auto&#x27;,
      zoom: 1,
      pan: 0,
      tilt: 0,
      nightMode: false,
      motionSensitivity: 50,
      recordingQuality: &#x27;high&#x27;,
      audioEnabled: true,
      privacyMasking: false,
      privacyZones: []
    };
  }

  private getDefaultCapabilities(): CameraCapabilities {
    return {
      maxResolution: &#x27;1920x1080&#x27;,
      supportedResolutions: [&#x27;640x480&#x27;, &#x27;1280x720&#x27;, &#x27;1920x1080&#x27;],
      supportedFPS: [15, 25, 30],
      supportedCodecs: [&#x27;H264&#x27;, &#x27;H265&#x27;],
      hasNightVision: true,
      hasPanTiltZoom: false,
      hasAudio: true,
      hasMotionDetection: true,
      hasRecording: true,
      hasPrivacyMasking: true,
      hasAudioDetection: true,
      hasLineCrossing: true,
      hasIntrusionDetection: true,
      hasFaceDetection: false,
      hasLicensePlateRecognition: false
    };
  }
}

</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'RecordingSettings.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
