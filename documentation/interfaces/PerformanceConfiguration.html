<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  PerformanceConfiguration</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/testing/services/performance-testing.service.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#baseUrl" 
>
                                            baseUrl
                                        </a>
                                </li>
                                <li>
                                        <a href="#maxUsers" 
>
                                            maxUsers
                                        </a>
                                </li>
                                <li>
                                        <a href="#monitoring" 
>
                                            monitoring
                                        </a>
                                </li>
                                <li>
                                        <a href="#rampUpTime" 
>
                                            rampUpTime
                                        </a>
                                </li>
                                <li>
                                        <a href="#retryAttempts" 
>
                                            retryAttempts
                                        </a>
                                </li>
                                <li>
                                        <a href="#testDuration" 
>
                                            testDuration
                                        </a>
                                </li>
                                <li>
                                        <a href="#thinkTime" 
>
                                            thinkTime
                                        </a>
                                </li>
                                <li>
                                        <a href="#thresholds" 
>
                                            thresholds
                                        </a>
                                </li>
                                <li>
                                        <a href="#timeout" 
>
                                            timeout
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="baseUrl"></a>
                                        <span class="name "><b>baseUrl</b>
                                            <a href="#baseUrl">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>baseUrl:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="maxUsers"></a>
                                        <span class="name "><b>maxUsers</b>
                                            <a href="#maxUsers">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>maxUsers:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="monitoring"></a>
                                        <span class="name "><b>monitoring</b>
                                            <a href="#monitoring">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>monitoring:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="rampUpTime"></a>
                                        <span class="name "><b>rampUpTime</b>
                                            <a href="#rampUpTime">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>rampUpTime:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="retryAttempts"></a>
                                        <span class="name "><b>retryAttempts</b>
                                            <a href="#retryAttempts">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>retryAttempts:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="testDuration"></a>
                                        <span class="name "><b>testDuration</b>
                                            <a href="#testDuration">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>testDuration:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="thinkTime"></a>
                                        <span class="name "><b>thinkTime</b>
                                            <a href="#thinkTime">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>thinkTime:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="thresholds"></a>
                                        <span class="name "><b>thresholds</b>
                                            <a href="#thresholds">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>thresholds:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="timeout"></a>
                                        <span class="name "><b>timeout</b>
                                            <a href="#timeout">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>timeout:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable, signal, computed } from &#x27;@angular/core&#x27;;
import { Observable, throwError, timer, interval } from &#x27;rxjs&#x27;;
import { map, catchError, retry, switchMap, take } from &#x27;rxjs/operators&#x27;;

export interface PerformanceMetric {
  name: string;
  value: number;
  unit: string;
  timestamp: Date;
  category: &#x27;load_time&#x27; | &#x27;memory&#x27; | &#x27;cpu&#x27; | &#x27;network&#x27; | &#x27;rendering&#x27; | &#x27;interaction&#x27;;
  threshold: {
    warning: number;
    critical: number;
  };
  status: &#x27;good&#x27; | &#x27;warning&#x27; | &#x27;critical&#x27;;
}

export interface PerformanceTest {
  id: string;
  name: string;
  description: string;
  type: &#x27;load&#x27; | &#x27;stress&#x27; | &#x27;spike&#x27; | &#x27;volume&#x27; | &#x27;endurance&#x27; | &#x27;scalability&#x27;;
  status: &#x27;pending&#x27; | &#x27;running&#x27; | &#x27;completed&#x27; | &#x27;failed&#x27;;
  duration: number; // seconds
  startTime?: Date;
  endTime?: Date;
  metrics: PerformanceMetric[];
  scenarios: PerformanceScenario[];
  results: PerformanceResults;
  configuration: PerformanceConfiguration;
}

export interface PerformanceScenario {
  id: string;
  name: string;
  description: string;
  weight: number; // percentage of total load
  users: number;
  rampUpTime: number; // seconds
  duration: number; // seconds
  actions: PerformanceAction[];
  expectedResponseTime: number; // milliseconds
  expectedThroughput: number; // requests per second
}

export interface PerformanceAction {
  id: string;
  name: string;
  type: &#x27;navigation&#x27; | &#x27;click&#x27; | &#x27;input&#x27; | &#x27;api_call&#x27; | &#x27;wait&#x27; | &#x27;assertion&#x27;;
  target: string;
  value?: string;
  expectedDuration: number; // milliseconds
  actualDuration?: number;
  success: boolean;
  error?: string;
  timestamp: Date;
}

export interface PerformanceResults {
  totalRequests: number;
  successfulRequests: number;
  failedRequests: number;
  averageResponseTime: number;
  minResponseTime: number;
  maxResponseTime: number;
  p95ResponseTime: number;
  p99ResponseTime: number;
  throughput: number; // requests per second
  errorRate: number; // percentage
  cpuUsage: number; // percentage
  memoryUsage: number; // MB
  networkUsage: number; // MB
  concurrentUsers: number;
  peakUsers: number;
  duration: number; // seconds
}

export interface PerformanceConfiguration {
  baseUrl: string;
  maxUsers: number;
  rampUpTime: number; // seconds
  testDuration: number; // seconds
  thinkTime: number; // seconds between actions
  timeout: number; // milliseconds
  retryAttempts: number;
  monitoring: {
    enabled: boolean;
    interval: number; // seconds
    metrics: string[];
  };
  thresholds: {
    responseTime: number; // milliseconds
    errorRate: number; // percentage
    cpuUsage: number; // percentage
    memoryUsage: number; // MB
  };
}

export interface PerformanceReport {
  id: string;
  testId: string;
  name: string;
  description: string;
  generatedAt: Date;
  summary: {
    status: &#x27;passed&#x27; | &#x27;failed&#x27; | &#x27;warning&#x27;;
    overallScore: number; // 0-100
    recommendations: string[];
  };
  results: PerformanceResults;
  metrics: PerformanceMetric[];
  charts: PerformanceChart[];
  analysis: PerformanceAnalysis;
}

export interface PerformanceChart {
  id: string;
  name: string;
  type: &#x27;line&#x27; | &#x27;bar&#x27; | &#x27;pie&#x27; | &#x27;scatter&#x27;;
  data: any[];
  xAxis: string;
  yAxis: string;
  title: string;
  description: string;
}

export interface PerformanceAnalysis {
  bottlenecks: string[];
  improvements: string[];
  risks: string[];
  trends: string[];
  compliance: {
    sla: boolean;
    performance: boolean;
    reliability: boolean;
  };
}

@Injectable({
  providedIn: &#x27;root&#x27;
})
export class PerformanceTestingService {
  // ✅ Private writable signals
  private _performanceTests &#x3D; signal&lt;PerformanceTest[]&gt;([]);
  private _performanceReports &#x3D; signal&lt;PerformanceReport[]&gt;([]);
  private _isRunning &#x3D; signal&lt;boolean&gt;(false);
  private _currentTest &#x3D; signal&lt;PerformanceTest | null&gt;(null);
  private _realTimeMetrics &#x3D; signal&lt;PerformanceMetric[]&gt;([]);

  // ✅ Public readonly signals
  public readonly performanceTests &#x3D; this._performanceTests.asReadonly();
  public readonly performanceReports &#x3D; this._performanceReports.asReadonly();
  public readonly isRunning &#x3D; this._isRunning.asReadonly();
  public readonly currentTest &#x3D; this._currentTest.asReadonly();
  public readonly realTimeMetrics &#x3D; this._realTimeMetrics.asReadonly();

  // ✅ Computed signals for derived state
  public readonly performanceTestsCount &#x3D; computed(() &#x3D;&gt; this._performanceTests().length);
  public readonly runningTestsCount &#x3D; computed(() &#x3D;&gt;
    this._performanceTests().filter((t: PerformanceTest) &#x3D;&gt; t.status &#x3D;&#x3D;&#x3D; &#x27;running&#x27;).length
  );
  public readonly completedTestsCount &#x3D; computed(() &#x3D;&gt;
    this._performanceTests().filter((t: PerformanceTest) &#x3D;&gt; t.status &#x3D;&#x3D;&#x3D; &#x27;completed&#x27;).length
  );
  public readonly failedTestsCount &#x3D; computed(() &#x3D;&gt;
    this._performanceTests().filter((t: PerformanceTest) &#x3D;&gt; t.status &#x3D;&#x3D;&#x3D; &#x27;failed&#x27;).length
  );
  public readonly performanceReportsCount &#x3D; computed(() &#x3D;&gt; this._performanceReports().length);

  // ✅ Observable compatibility layer (for backward compatibility)
  public performanceTests$ &#x3D; new Observable&lt;PerformanceTest[]&gt;(observer &#x3D;&gt; {
    observer.next(this._performanceTests());
  });
  public performanceReports$ &#x3D; new Observable&lt;PerformanceReport[]&gt;(observer &#x3D;&gt; {
    observer.next(this._performanceReports());
  });
  public isRunning$ &#x3D; new Observable&lt;boolean&gt;(observer &#x3D;&gt; {
    observer.next(this._isRunning());
  });
  public currentTest$ &#x3D; new Observable&lt;PerformanceTest | null&gt;(observer &#x3D;&gt; {
    observer.next(this._currentTest());
  });
  public realTimeMetrics$ &#x3D; new Observable&lt;PerformanceMetric[]&gt;(observer &#x3D;&gt; {
    observer.next(this._realTimeMetrics());
  });

  constructor() {
    this.initializePerformanceTests();
  }

  private initializePerformanceTests(): void {
    const tests: PerformanceTest[] &#x3D; [
      {
        id: &#x27;perf-001&#x27;,
        name: &#x27;Homepage Load Test&#x27;,
        description: &#x27;Test homepage loading performance under normal load&#x27;,
        type: &#x27;load&#x27;,
        status: &#x27;pending&#x27;,
        duration: 0,
        metrics: [],
        scenarios: [
          {
            id: &#x27;scenario-001&#x27;,
            name: &#x27;Homepage Navigation&#x27;,
            description: &#x27;Navigate to homepage and verify load time&#x27;,
            weight: 100,
            users: 50,
            rampUpTime: 30,
            duration: 300,
            actions: [
              {
                id: &#x27;action-001&#x27;,
                name: &#x27;Navigate to homepage&#x27;,
                type: &#x27;navigation&#x27;,
                target: &#x27;/&#x27;,
                expectedDuration: 2000,
                success: false,
                timestamp: new Date()
              }
            ],
            expectedResponseTime: 2000,
            expectedThroughput: 10
          }
        ],
        results: this.getDefaultResults(),
        configuration: this.getDefaultConfiguration()
      },
      {
        id: &#x27;perf-002&#x27;,
        name: &#x27;Dashboard Stress Test&#x27;,
        description: &#x27;Test dashboard performance under high load&#x27;,
        type: &#x27;stress&#x27;,
        status: &#x27;pending&#x27;,
        duration: 0,
        metrics: [],
        scenarios: [
          {
            id: &#x27;scenario-002&#x27;,
            name: &#x27;Dashboard Load&#x27;,
            description: &#x27;Load dashboard with multiple widgets&#x27;,
            weight: 100,
            users: 100,
            rampUpTime: 60,
            duration: 600,
            actions: [
              {
                id: &#x27;action-002&#x27;,
                name: &#x27;Load dashboard&#x27;,
                type: &#x27;navigation&#x27;,
                target: &#x27;/dashboard&#x27;,
                expectedDuration: 3000,
                success: false,
                timestamp: new Date()
              },
              {
                id: &#x27;action-003&#x27;,
                name: &#x27;Load charts&#x27;,
                type: &#x27;api_call&#x27;,
                target: &#x27;/api/charts&#x27;,
                expectedDuration: 1000,
                success: false,
                timestamp: new Date()
              }
            ],
            expectedResponseTime: 3000,
            expectedThroughput: 5
          }
        ],
        results: this.getDefaultResults(),
        configuration: this.getDefaultConfiguration()
      },
      {
        id: &#x27;perf-003&#x27;,
        name: &#x27;Camera Integration Load Test&#x27;,
        description: &#x27;Test camera integration performance&#x27;,
        type: &#x27;load&#x27;,
        status: &#x27;pending&#x27;,
        duration: 0,
        metrics: [],
        scenarios: [
          {
            id: &#x27;scenario-003&#x27;,
            name: &#x27;Camera Stream Load&#x27;,
            description: &#x27;Load multiple camera streams simultaneously&#x27;,
            weight: 100,
            users: 25,
            rampUpTime: 30,
            duration: 300,
            actions: [
              {
                id: &#x27;action-004&#x27;,
                name: &#x27;Connect to camera&#x27;,
                type: &#x27;api_call&#x27;,
                target: &#x27;/api/camera/connect&#x27;,
                expectedDuration: 1500,
                success: false,
                timestamp: new Date()
              },
              {
                id: &#x27;action-005&#x27;,
                name: &#x27;Start video stream&#x27;,
                type: &#x27;api_call&#x27;,
                target: &#x27;/api/camera/stream&#x27;,
                expectedDuration: 2000,
                success: false,
                timestamp: new Date()
              }
            ],
            expectedResponseTime: 2000,
            expectedThroughput: 8
          }
        ],
        results: this.getDefaultResults(),
        configuration: this.getDefaultConfiguration()
      }
    ];

    this._performanceTests.set(tests);
  }

  // Performance Test Management
  getPerformanceTests(): Observable&lt;PerformanceTest[]&gt; {
    return this.performanceTests$;
  }

  getPerformanceTest(id: string): Observable&lt;PerformanceTest | undefined&gt; {
    return this.performanceTests$.pipe(
      map(tests &#x3D;&gt; tests.find(t &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; id))
    );
  }

  createPerformanceTest(test: Omit&lt;PerformanceTest, &#x27;id&#x27; | &#x27;status&#x27; | &#x27;duration&#x27; | &#x27;metrics&#x27; | &#x27;results&#x27;&gt;): Observable&lt;PerformanceTest&gt; {
    const newTest: PerformanceTest &#x3D; {
      ...test,
      id: this.generateId(),
      status: &#x27;pending&#x27;,
      duration: 0,
      metrics: [],
      results: this.getDefaultResults()
    };

    const tests &#x3D; this._performanceTests();
    this._performanceTests.set([...tests, newTest]);

    return new Observable(observer &#x3D;&gt; {
      observer.next(newTest);
      observer.complete();
    });
  }

  // Test Execution
  runPerformanceTest(testId: string): Observable&lt;PerformanceTest&gt; {
    const tests &#x3D; this._performanceTests();
    const test &#x3D; tests.find(t &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; testId);

    if (!test) {
      return throwError(() &#x3D;&gt; new Error(&#x27;Performance test not found&#x27;));
    }

    test.status &#x3D; &#x27;running&#x27;;
    test.startTime &#x3D; new Date();
    this._currentTest.set(test);
    this._isRunning.set(true);

    const testsArray &#x3D; this._performanceTests();
    const index &#x3D; testsArray.findIndex((t: PerformanceTest) &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; testId);
    if (index !&#x3D;&#x3D; -1) {
      const updatedTests &#x3D; [...testsArray];
      updatedTests[index] &#x3D; test;
      this._performanceTests.set(updatedTests);
    }

    return this.executePerformanceTest(test).pipe(
      map(updatedTest &#x3D;&gt; {
        const tests &#x3D; this._performanceTests();
        const index &#x3D; tests.findIndex(t &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; testId);
        if (index !&#x3D;&#x3D; -1) {
          const updatedTests &#x3D; [...tests];
          updatedTests[index] &#x3D; updatedTest;
          this._performanceTests.set(updatedTests);
        }
        this._currentTest.set(null);
        this._isRunning.set(false);
        return updatedTest;
      }),
      catchError(error &#x3D;&gt; {
        test.status &#x3D; &#x27;failed&#x27;;
        test.endTime &#x3D; new Date();
        test.duration &#x3D; test.endTime.getTime() - (test.startTime?.getTime() || 0);

        const tests &#x3D; this._performanceTests();
        const index &#x3D; tests.findIndex(t &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; testId);
        if (index !&#x3D;&#x3D; -1) {
          const updatedTests &#x3D; [...tests];
          updatedTests[index] &#x3D; test;
          this._performanceTests.set(updatedTests);
        }
        this._currentTest.set(null);
        this._isRunning.set(false);
        return throwError(() &#x3D;&gt; error);
      })
    );
  }

  private executePerformanceTest(test: PerformanceTest): Observable&lt;PerformanceTest&gt; {
    return new Observable(observer &#x3D;&gt; {
      const startTime &#x3D; Date.now();
      const metrics: PerformanceMetric[] &#x3D; [];
      let totalRequests &#x3D; 0;
      let successfulRequests &#x3D; 0;
      let failedRequests &#x3D; 0;
      const responseTimes: number[] &#x3D; [];

      // Start real-time monitoring
      const monitoringInterval &#x3D; interval(1000).pipe(
        take(test.configuration.testDuration)
      ).subscribe(() &#x3D;&gt; {
        const currentMetrics &#x3D; this.generateRealTimeMetrics();
        metrics.push(...currentMetrics);
        this._realTimeMetrics.set(currentMetrics);
      });

      // Execute scenarios
      const scenarioPromises &#x3D; test.scenarios.map(scenario &#x3D;&gt;
        this.executeScenario(scenario, test.configuration)
      );

      Promise.all(scenarioPromises).then(scenarioResults &#x3D;&gt; {
        monitoringInterval.unsubscribe();

        // Calculate results
        scenarioResults.forEach(result &#x3D;&gt; {
          totalRequests +&#x3D; result.totalRequests;
          successfulRequests +&#x3D; result.successfulRequests;
          failedRequests +&#x3D; result.failedRequests;
          responseTimes.push(...result.responseTimes);
        });

        const averageResponseTime &#x3D; responseTimes.reduce((sum, time) &#x3D;&gt; sum + time, 0) / responseTimes.length;
        const sortedResponseTimes &#x3D; responseTimes.sort((a, b) &#x3D;&gt; a - b);
        const p95Index &#x3D; Math.floor(sortedResponseTimes.length * 0.95);
        const p99Index &#x3D; Math.floor(sortedResponseTimes.length * 0.99);

        test.results &#x3D; {
          totalRequests,
          successfulRequests,
          failedRequests,
          averageResponseTime,
          minResponseTime: Math.min(...responseTimes),
          maxResponseTime: Math.max(...responseTimes),
          p95ResponseTime: sortedResponseTimes[p95Index] || 0,
          p99ResponseTime: sortedResponseTimes[p99Index] || 0,
          throughput: totalRequests / (test.configuration.testDuration || 1),
          errorRate: (failedRequests / totalRequests) * 100,
          cpuUsage: this.getRandomMetric(30, 80),
          memoryUsage: this.getRandomMetric(100, 500),
          networkUsage: this.getRandomMetric(50, 200),
          concurrentUsers: test.scenarios.reduce((sum, s) &#x3D;&gt; sum + s.users, 0),
          peakUsers: test.scenarios.reduce((sum, s) &#x3D;&gt; sum + s.users, 0),
          duration: test.configuration.testDuration
        };

        test.metrics &#x3D; metrics;
        test.status &#x3D; &#x27;completed&#x27;;
        test.endTime &#x3D; new Date();
        test.duration &#x3D; test.endTime.getTime() - (test.startTime?.getTime() || 0);

        observer.next(test);
        observer.complete();
      }).catch(error &#x3D;&gt; {
        monitoringInterval.unsubscribe();
        test.status &#x3D; &#x27;failed&#x27;;
        test.endTime &#x3D; new Date();
        test.duration &#x3D; test.endTime.getTime() - (test.startTime?.getTime() || 0);
        observer.error(error);
      });
    });
  }

  private executeScenario(scenario: PerformanceScenario, config: PerformanceConfiguration): Promise&lt;{
    totalRequests: number;
    successfulRequests: number;
    failedRequests: number;
    responseTimes: number[];
  }&gt; {
    return new Promise((resolve) &#x3D;&gt; {
      const totalRequests &#x3D; scenario.users * (scenario.duration / 10); // 1 request per 10 seconds per user
      const successfulRequests &#x3D; Math.floor(totalRequests * 0.95); // 95% success rate
      const failedRequests &#x3D; totalRequests - successfulRequests;
      const responseTimes: number[] &#x3D; [];

      // Simulate requests
      for (let i &#x3D; 0; i &lt; totalRequests; i++) {
        const responseTime &#x3D; this.getRandomMetric(scenario.expectedResponseTime * 0.5, scenario.expectedResponseTime * 1.5);
        responseTimes.push(responseTime);
      }

      // Simulate scenario duration
      setTimeout(() &#x3D;&gt; {
        resolve({
          totalRequests,
          successfulRequests,
          failedRequests,
          responseTimes
        });
      }, scenario.duration * 1000);
    });
  }

  private generateRealTimeMetrics(): PerformanceMetric[] {
    const now &#x3D; new Date();
    return [
      {
        name: &#x27;Response Time&#x27;,
        value: this.getRandomMetric(100, 2000),
        unit: &#x27;ms&#x27;,
        timestamp: now,
        category: &#x27;load_time&#x27;,
        threshold: { warning: 1000, critical: 2000 },
        status: &#x27;good&#x27;
      },
      {
        name: &#x27;CPU Usage&#x27;,
        value: this.getRandomMetric(20, 80),
        unit: &#x27;%&#x27;,
        timestamp: now,
        category: &#x27;cpu&#x27;,
        threshold: { warning: 70, critical: 90 },
        status: &#x27;good&#x27;
      },
      {
        name: &#x27;Memory Usage&#x27;,
        value: this.getRandomMetric(100, 500),
        unit: &#x27;MB&#x27;,
        timestamp: now,
        category: &#x27;memory&#x27;,
        threshold: { warning: 400, critical: 600 },
        status: &#x27;good&#x27;
      },
      {
        name: &#x27;Network Throughput&#x27;,
        value: this.getRandomMetric(1, 10),
        unit: &#x27;Mbps&#x27;,
        timestamp: now,
        category: &#x27;network&#x27;,
        threshold: { warning: 5, critical: 8 },
        status: &#x27;good&#x27;
      }
    ];
  }

  // Report Generation
  generatePerformanceReport(testId: string): Observable&lt;PerformanceReport&gt; {
    const tests &#x3D; this._performanceTests();
    const test &#x3D; tests.find(t &#x3D;&gt; t.id &#x3D;&#x3D;&#x3D; testId);

    if (!test) {
      return throwError(() &#x3D;&gt; new Error(&#x27;Performance test not found&#x27;));
    }

    const report: PerformanceReport &#x3D; {
      id: this.generateId(),
      testId,
      name: &#x60;Performance Report - ${test.name}&#x60;,
      description: &#x60;Performance test report for ${test.name}&#x60;,
      generatedAt: new Date(),
      summary: {
        status: this.calculateTestStatus(test.results),
        overallScore: this.calculateOverallScore(test.results),
        recommendations: this.generateRecommendations(test.results)
      },
      results: test.results,
      metrics: test.metrics,
      charts: this.generateCharts(test),
      analysis: this.generateAnalysis(test.results)
    };

    const reports &#x3D; this._performanceReports();
    this._performanceReports.set([...reports, report]);

    return new Observable(observer &#x3D;&gt; {
      observer.next(report);
      observer.complete();
    });
  }

  // Status Monitoring
  getIsRunning(): Observable&lt;boolean&gt; {
    return this.isRunning$;
  }

  getCurrentTest(): Observable&lt;PerformanceTest | null&gt; {
    return this.currentTest$;
  }

  getRealTimeMetrics(): Observable&lt;PerformanceMetric[]&gt; {
    return this.realTimeMetrics$;
  }

  getPerformanceReports(): Observable&lt;PerformanceReport[]&gt; {
    return this.performanceReports$;
  }

  // Utility Methods
  private generateId(): string {
    return &#x27;perf-&#x27; + Math.random().toString(36).substr(2, 9);
  }

  private getRandomMetric(min: number, max: number): number {
    return Math.random() * (max - min) + min;
  }

  private getDefaultResults(): PerformanceResults {
    return {
      totalRequests: 0,
      successfulRequests: 0,
      failedRequests: 0,
      averageResponseTime: 0,
      minResponseTime: 0,
      maxResponseTime: 0,
      p95ResponseTime: 0,
      p99ResponseTime: 0,
      throughput: 0,
      errorRate: 0,
      cpuUsage: 0,
      memoryUsage: 0,
      networkUsage: 0,
      concurrentUsers: 0,
      peakUsers: 0,
      duration: 0
    };
  }

  private getDefaultConfiguration(): PerformanceConfiguration {
    return {
      baseUrl: &#x27;http://localhost:4200&#x27;,
      maxUsers: 100,
      rampUpTime: 60,
      testDuration: 300,
      thinkTime: 5,
      timeout: 30000,
      retryAttempts: 3,
      monitoring: {
        enabled: true,
        interval: 1,
        metrics: [&#x27;response_time&#x27;, &#x27;cpu&#x27;, &#x27;memory&#x27;, &#x27;network&#x27;]
      },
      thresholds: {
        responseTime: 2000,
        errorRate: 5,
        cpuUsage: 80,
        memoryUsage: 500
      }
    };
  }

  private calculateTestStatus(results: PerformanceResults): &#x27;passed&#x27; | &#x27;failed&#x27; | &#x27;warning&#x27; {
    if (results.errorRate &gt; 5 || results.averageResponseTime &gt; 2000) {
      return &#x27;failed&#x27;;
    }
    if (results.errorRate &gt; 2 || results.averageResponseTime &gt; 1000) {
      return &#x27;warning&#x27;;
    }
    return &#x27;passed&#x27;;
  }

  private calculateOverallScore(results: PerformanceResults): number {
    let score &#x3D; 100;

    // Deduct points for high response time
    if (results.averageResponseTime &gt; 1000) {
      score -&#x3D; (results.averageResponseTime - 1000) / 10;
    }

    // Deduct points for high error rate
    score -&#x3D; results.errorRate * 2;

    // Deduct points for high resource usage
    if (results.cpuUsage &gt; 70) {
      score -&#x3D; (results.cpuUsage - 70) / 2;
    }

    return Math.max(0, Math.min(100, score));
  }

  private generateRecommendations(results: PerformanceResults): string[] {
    const recommendations: string[] &#x3D; [];

    if (results.averageResponseTime &gt; 1000) {
      recommendations.push(&#x27;Optimize response time - consider caching and database optimization&#x27;);
    }

    if (results.errorRate &gt; 2) {
      recommendations.push(&#x27;Reduce error rate - investigate and fix failing requests&#x27;);
    }

    if (results.cpuUsage &gt; 70) {
      recommendations.push(&#x27;Optimize CPU usage - consider code optimization and resource management&#x27;);
    }

    if (results.memoryUsage &gt; 400) {
      recommendations.push(&#x27;Optimize memory usage - check for memory leaks and optimize data structures&#x27;);
    }

    if (results.throughput &lt; 10) {
      recommendations.push(&#x27;Increase throughput - consider horizontal scaling and load balancing&#x27;);
    }

    return recommendations;
  }

  private generateCharts(test: PerformanceTest): PerformanceChart[] {
    return [
      {
        id: &#x27;chart-001&#x27;,
        name: &#x27;Response Time Trend&#x27;,
        type: &#x27;line&#x27;,
        data: test.metrics.filter(m &#x3D;&gt; m.category &#x3D;&#x3D;&#x3D; &#x27;load_time&#x27;).map(m &#x3D;&gt; ({
          x: m.timestamp,
          y: m.value
        })),
        xAxis: &#x27;Time&#x27;,
        yAxis: &#x27;Response Time (ms)&#x27;,
        title: &#x27;Response Time Over Time&#x27;,
        description: &#x27;Shows how response time changes during the test&#x27;
      },
      {
        id: &#x27;chart-002&#x27;,
        name: &#x27;Resource Usage&#x27;,
        type: &#x27;bar&#x27;,
        data: [
          { name: &#x27;CPU&#x27;, value: test.results.cpuUsage },
          { name: &#x27;Memory&#x27;, value: test.results.memoryUsage },
          { name: &#x27;Network&#x27;, value: test.results.networkUsage }
        ],
        xAxis: &#x27;Resource Type&#x27;,
        yAxis: &#x27;Usage&#x27;,
        title: &#x27;Resource Usage Summary&#x27;,
        description: &#x27;Shows CPU, memory, and network usage&#x27;
      }
    ];
  }

  private generateAnalysis(results: PerformanceResults): PerformanceAnalysis {
    const bottlenecks: string[] &#x3D; [];
    const improvements: string[] &#x3D; [];
    const risks: string[] &#x3D; [];
    const trends: string[] &#x3D; [];

    if (results.averageResponseTime &gt; 1000) {
      bottlenecks.push(&#x27;High response time&#x27;);
      improvements.push(&#x27;Implement caching strategy&#x27;);
      risks.push(&#x27;Poor user experience&#x27;);
    }

    if (results.errorRate &gt; 2) {
      bottlenecks.push(&#x27;High error rate&#x27;);
      improvements.push(&#x27;Improve error handling&#x27;);
      risks.push(&#x27;System reliability issues&#x27;);
    }

    if (results.cpuUsage &gt; 70) {
      bottlenecks.push(&#x27;High CPU usage&#x27;);
      improvements.push(&#x27;Optimize algorithms&#x27;);
      risks.push(&#x27;System performance degradation&#x27;);
    }

    return {
      bottlenecks,
      improvements,
      risks,
      trends,
      compliance: {
        sla: results.averageResponseTime &lt;&#x3D; 2000,
        performance: results.throughput &gt;&#x3D; 10,
        reliability: results.errorRate &lt;&#x3D; 5
      }
    };
  }
}

</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'PerformanceConfiguration.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
