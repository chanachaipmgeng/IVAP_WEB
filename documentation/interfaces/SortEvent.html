<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  SortEvent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/shared/components/data-table/data-table.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#column" 
>
                                            column
                                        </a>
                                </li>
                                <li>
                                        <a href="#direction" 
>
                                            direction
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="column"></a>
                                        <span class="name "><b>column</b>
                                            <a href="#column">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>column:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="direction"></a>
                                        <span class="name "><b>direction</b>
                                            <a href="#direction">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>direction:     <code>&quot;asc&quot; | &quot;desc&quot;</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>&quot;asc&quot; | &quot;desc&quot;</code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, Input, Output, EventEmitter, ViewChild, ElementRef, AfterViewChecked, HostListener, TemplateRef } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { FormsModule } from &#x27;@angular/forms&#x27;;
import { ScrollingModule } from &#x27;@angular/cdk/scrolling&#x27;;
import { GlassButtonComponent } from &#x27;../glass-button/glass-button.component&#x27;;

export interface TableColumn {
  key: string;
  label: string;
  sortable?: boolean;
  type?: &#x27;text&#x27; | &#x27;number&#x27; | &#x27;date&#x27; | &#x27;boolean&#x27; | &#x27;currency&#x27; | &#x27;custom&#x27;;
  render?: (value: any, row: any) &#x3D;&gt; string;
  template?: TemplateRef&lt;any&gt;; // Custom template for cell rendering
  filterable?: boolean;
  filterType?: &#x27;text&#x27; | &#x27;select&#x27; | &#x27;date&#x27; | &#x27;number&#x27;;
  filterOptions?: Array&lt;{value: any, label: string}&gt;;
  width?: string;
  align?: &#x27;left&#x27; | &#x27;center&#x27; | &#x27;right&#x27;;
}

export interface TableAction {
  icon: string;
  label: string;
  variant?: &#x27;primary&#x27; | &#x27;secondary&#x27; | &#x27;danger&#x27;;
  onClick: (row: any) &#x3D;&gt; void;
  visible?: (row: any) &#x3D;&gt; boolean;
}

export interface SortEvent {
  column: string;
  direction: &#x27;asc&#x27; | &#x27;desc&#x27;;
}

export interface PaginationConfig {
  currentPage: number;
  pageSize: number;
  total: number;
  totalPages: number;
}

@Component({
  selector: &#x27;app-data-table&#x27;,
  standalone: true,
  imports: [CommonModule, FormsModule, ScrollingModule],
  template: &#x60;
    &lt;div class&#x3D;&quot;glass-card overflow-hidden&quot; [ngClass]&#x3D;&quot;customClass&quot; [attr.aria-label]&#x3D;&quot;ariaLabel || &#x27;Data table&#x27;&quot;&gt;
      &lt;!-- Loading State --&gt;
      &lt;div *ngIf&#x3D;&quot;loading&quot; class&#x3D;&quot;p-12 flex flex-col items-center justify-center&quot;&gt;
        &lt;div class&#x3D;&quot;animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mb-4&quot;&gt;&lt;/div&gt;
        &lt;p class&#x3D;&quot;text-gray-500 dark:text-gray-400&quot;&gt;Loading...&lt;/p&gt;
      &lt;/div&gt;

      &lt;!-- Content --&gt;
      &lt;div *ngIf&#x3D;&quot;!loading&quot;&gt;
        &lt;!-- Search and Actions --&gt;
        &lt;div class&#x3D;&quot;p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center&quot;&gt;
          &lt;input
            *ngIf&#x3D;&quot;searchable&quot;
            type&#x3D;&quot;text&quot;
            placeholder&#x3D;&quot;Search...&quot;
            class&#x3D;&quot;glass-input w-64&quot;
            [(ngModel)]&#x3D;&quot;searchTerm&quot;
            (ngModelChange)&#x3D;&quot;onSearch()&quot;
          /&gt;
          &lt;div class&#x3D;&quot;flex space-x-2&quot;&gt;
            &lt;!-- Export Button --&gt;
            &lt;div *ngIf&#x3D;&quot;showExport&quot; class&#x3D;&quot;relative export-menu-container&quot;&gt;
              &lt;button
                type&#x3D;&quot;button&quot;
                class&#x3D;&quot;glass-button px-3 py-1.5 text-sm flex items-center space-x-1&quot;
                (click)&#x3D;&quot;showExportMenu &#x3D; !showExportMenu&quot;
                [attr.aria-label]&#x3D;&quot;&#x27;Export data&#x27;&quot;
                [attr.aria-expanded]&#x3D;&quot;showExportMenu&quot;
                [attr.aria-haspopup]&#x3D;&quot;true&quot;
              &gt;
                &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;ðŸ“¥&lt;/span&gt;
                &lt;span&gt;Export&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;showExportMenu&quot; aria-hidden&#x3D;&quot;true&quot;&gt;â–¼&lt;/span&gt;
                &lt;span *ngIf&#x3D;&quot;!showExportMenu&quot; aria-hidden&#x3D;&quot;true&quot;&gt;â–¶&lt;/span&gt;
              &lt;/button&gt;
              &lt;!-- Export Menu --&gt;
              &lt;div
                *ngIf&#x3D;&quot;showExportMenu&quot;
                class&#x3D;&quot;absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-10&quot;
              &gt;
                &lt;button
                  *ngIf&#x3D;&quot;exportFormats.includes(&#x27;csv&#x27;)&quot;
                  (click)&#x3D;&quot;exportToCSV()&quot;
                  class&#x3D;&quot;w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg&quot;
                  role&#x3D;&quot;menuitem&quot;
                  [attr.aria-label]&#x3D;&quot;&#x27;Export as CSV&#x27;&quot;
                &gt;
                  &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;ðŸ“„&lt;/span&gt; Export as CSV
                &lt;/button&gt;
                &lt;button
                  *ngIf&#x3D;&quot;exportFormats.includes(&#x27;excel&#x27;)&quot;
                  (click)&#x3D;&quot;exportToExcel()&quot;
                  class&#x3D;&quot;w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700&quot;
                  role&#x3D;&quot;menuitem&quot;
                  [attr.aria-label]&#x3D;&quot;&#x27;Export as Excel&#x27;&quot;
                &gt;
                  &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;ðŸ“Š&lt;/span&gt; Export as Excel
                &lt;/button&gt;
                &lt;button
                  *ngIf&#x3D;&quot;exportFormats.includes(&#x27;json&#x27;)&quot;
                  (click)&#x3D;&quot;exportToJSON()&quot;
                  class&#x3D;&quot;w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-b-lg&quot;
                  role&#x3D;&quot;menuitem&quot;
                  [attr.aria-label]&#x3D;&quot;&#x27;Export as JSON&#x27;&quot;
                &gt;
                  &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;ðŸ“‹&lt;/span&gt; Export as JSON
                &lt;/button&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            &lt;ng-content select&#x3D;&quot;[actions]&quot;&gt;&lt;/ng-content&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Table --&gt;
        &lt;div class&#x3D;&quot;overflow-x-auto&quot;&gt;
          &lt;table class&#x3D;&quot;w-full&quot;&gt;
            &lt;thead class&#x3D;&quot;bg-gray-50/50 dark:bg-gray-800/50&quot;&gt;
              &lt;tr role&#x3D;&quot;row&quot;&gt;
                &lt;th *ngIf&#x3D;&quot;selectable&quot; class&#x3D;&quot;px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-12&quot; role&#x3D;&quot;columnheader&quot; scope&#x3D;&quot;col&quot;&gt;
                  &lt;input
                    type&#x3D;&quot;checkbox&quot;
                    [checked]&#x3D;&quot;isAllSelected()&quot;
                    [attr.indeterminate]&#x3D;&quot;isIndeterminate() ? true : null&quot;
                    (change)&#x3D;&quot;onSelectAllChange($event)&quot;
                    class&#x3D;&quot;cursor-pointer&quot;
                    [attr.aria-label]&#x3D;&quot;&#x27;Select all rows&#x27;&quot;
                    [attr.aria-checked]&#x3D;&quot;isAllSelected() ? &#x27;true&#x27; : (isIndeterminate() ? &#x27;mixed&#x27; : &#x27;false&#x27;)&quot;
                    #selectAllCheckbox
                  /&gt;
                &lt;/th&gt;
                &lt;th
                  *ngFor&#x3D;&quot;let column of columns; trackBy: trackByColumn&quot;
                  [style.width]&#x3D;&quot;column.width&quot;
                  [class.text-left]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;left&#x27; || !column.align&quot;
                  [class.text-center]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;center&#x27;&quot;
                  [class.text-right]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;right&#x27;&quot;
                  class&#x3D;&quot;px-6 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider&quot;
                  [class.cursor-pointer]&#x3D;&quot;column.sortable&quot;
                  [class.hover:bg-gray-100/50]&#x3D;&quot;column.sortable&quot;
                  [class.dark:hover:bg-gray-700/50]&#x3D;&quot;column.sortable&quot;
                  (click)&#x3D;&quot;onHeaderClick($event, column)&quot;
                  role&#x3D;&quot;columnheader&quot;
                  scope&#x3D;&quot;col&quot;
                  [attr.aria-label]&#x3D;&quot;column.label + (column.sortable ? &#x27; - Click to sort&#x27; : &#x27;&#x27;)&quot;
                  [attr.aria-sort]&#x3D;&quot;getAriaSort(column.key)&quot;
                  [attr.tabindex]&#x3D;&quot;column.sortable ? 0 : null&quot;
                  (keydown.enter)&#x3D;&quot;column.sortable &amp;&amp; onSort(column.key)&quot;
                  (keydown.space)&#x3D;&quot;column.sortable &amp;&amp; onSort(column.key); $event.preventDefault()&quot;
                &gt;
                  &lt;div class&#x3D;&quot;flex flex-col space-y-1&quot;&gt;
                    &lt;div class&#x3D;&quot;flex items-center space-x-1&quot;&gt;
                      &lt;span&gt;{{ column.label }}&lt;/span&gt;
                      &lt;span *ngIf&#x3D;&quot;column.sortable&quot;&gt;
                        &lt;span *ngIf&#x3D;&quot;getSortDirection(column.key) &#x3D;&#x3D;&#x3D; &#x27;asc&#x27;&quot;&gt;â†‘&lt;/span&gt;
                        &lt;span *ngIf&#x3D;&quot;getSortDirection(column.key) &#x3D;&#x3D;&#x3D; &#x27;desc&#x27;&quot;&gt;â†“&lt;/span&gt;
                        &lt;span *ngIf&#x3D;&quot;!getSortDirection(column.key) &amp;&amp; enableMultiSort&quot;&gt;â‡…&lt;/span&gt;
                      &lt;/span&gt;
                    &lt;/div&gt;
                    &lt;!-- Column Filter --&gt;
                    &lt;div *ngIf&#x3D;&quot;enableColumnFilters &amp;&amp; column.filterable&quot; class&#x3D;&quot;mt-1&quot;&gt;
                      &lt;input
                        *ngIf&#x3D;&quot;column.filterType &#x3D;&#x3D;&#x3D; &#x27;text&#x27; || !column.filterType&quot;
                        type&#x3D;&quot;text&quot;
                        [value]&#x3D;&quot;columnFilters[column.key] || &#x27;&#x27;&quot;
                        (keyup.enter)&#x3D;&quot;onColumnFilter(column.key, $any($event.target).value)&quot;
                        (blur)&#x3D;&quot;onColumnFilter(column.key, $any($event.target).value)&quot;
                        [placeholder]&#x3D;&quot;&#x27;Filter &#x27; + column.label&quot;
                        class&#x3D;&quot;glass-input text-xs w-full py-1 px-2&quot;
                      /&gt;
                      &lt;select
                        *ngIf&#x3D;&quot;column.filterType &#x3D;&#x3D;&#x3D; &#x27;select&#x27; &amp;&amp; column.filterOptions&quot;
                        [value]&#x3D;&quot;columnFilters[column.key] || &#x27;&#x27;&quot;
                        (change)&#x3D;&quot;onColumnFilter(column.key, $any($event.target).value)&quot;
                        class&#x3D;&quot;glass-input text-xs w-full py-1 px-2&quot;
                      &gt;
                        &lt;option value&#x3D;&quot;&quot;&gt;All&lt;/option&gt;
                        &lt;option *ngFor&#x3D;&quot;let option of column.filterOptions&quot; [value]&#x3D;&quot;option.value&quot;&gt;
                          {{ option.label }}
                        &lt;/option&gt;
                      &lt;/select&gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/th&gt;
                &lt;th *ngIf&#x3D;&quot;actions.length &gt; 0&quot; class&#x3D;&quot;px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider&quot;&gt;
                  Actions
                &lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;!-- Virtual Scrolling Table Body --&gt;
            &lt;tbody *ngIf&#x3D;&quot;enableVirtualScrolling&quot; class&#x3D;&quot;divide-y divide-gray-200 dark:divide-gray-700&quot;&gt;
              &lt;cdk-virtual-scroll-viewport
                [itemSize]&#x3D;&quot;virtualScrollItemSize&quot;
                [minBufferPx]&#x3D;&quot;virtualScrollBufferSize * virtualScrollItemSize&quot;
                [maxBufferPx]&#x3D;&quot;virtualScrollBufferSize * virtualScrollItemSize * 2&quot;
                class&#x3D;&quot;virtual-scroll-viewport&quot;
              &gt;
                &lt;tr
                  *cdkVirtualFor&#x3D;&quot;let row of paginatedData; trackBy: trackByRowId&quot;
                  [class.bg-blue-50/50]&#x3D;&quot;isRowSelected(row)&quot;
                  class&#x3D;&quot;hover:bg-white/50 dark:hover:bg-gray-800/50 transition-colors&quot;
                  role&#x3D;&quot;row&quot;
                  [attr.aria-selected]&#x3D;&quot;selectable ? isRowSelected(row) : null&quot;
                  [attr.aria-label]&#x3D;&quot;&#x27;Row &#x27; + (trackByRowId(0, row) || &#x27;&#x27;)&quot;
                  [attr.tabindex]&#x3D;&quot;selectable ? 0 : null&quot;
                  (click)&#x3D;&quot;rowClicked.emit(row)&quot;
                  (keydown.enter)&#x3D;&quot;rowClicked.emit(row)&quot;
                &gt;
                  &lt;td *ngIf&#x3D;&quot;selectable&quot; class&#x3D;&quot;px-6 py-4 whitespace-nowrap&quot;&gt;
                    &lt;input
                      type&#x3D;&quot;checkbox&quot;
                      [checked]&#x3D;&quot;isRowSelected(row)&quot;
                      (change)&#x3D;&quot;onRowSelectChange(row, $event)&quot;
                      class&#x3D;&quot;cursor-pointer&quot;
                    /&gt;
                  &lt;/td&gt;
                  &lt;td
                    *ngFor&#x3D;&quot;let column of columns; trackBy: trackByColumn&quot;
                    [class.text-left]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;left&#x27; || !column.align&quot;
                    [class.text-center]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;center&#x27;&quot;
                    [class.text-right]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;right&#x27;&quot;
                    class&#x3D;&quot;px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100&quot;
                    role&#x3D;&quot;gridcell&quot;
                    [attr.aria-label]&#x3D;&quot;column.label + &#x27;: &#x27; + getCellValue(row, column)&quot;
                  &gt;
                    &lt;!-- Custom Template --&gt;
                    &lt;ng-container *ngIf&#x3D;&quot;column.template; else defaultCell&quot;&gt;
                      &lt;ng-container *ngTemplateOutlet&#x3D;&quot;column.template; context: { $implicit: row, column: column, value: getNestedValue(row, column.key) }&quot;&gt;&lt;/ng-container&gt;
                    &lt;/ng-container&gt;
                    &lt;!-- Default Cell --&gt;
                    &lt;ng-template #defaultCell&gt;
                      &lt;span [innerHTML]&#x3D;&quot;getCellValue(row, column)&quot;&gt;&lt;/span&gt;
                    &lt;/ng-template&gt;
                  &lt;/td&gt;
                  &lt;td *ngIf&#x3D;&quot;actions.length &gt; 0&quot; class&#x3D;&quot;px-6 py-4 whitespace-nowrap text-right text-sm space-x-2&quot; role&#x3D;&quot;gridcell&quot;&gt;
                    &lt;ng-container *ngFor&#x3D;&quot;let action of actions; trackBy: trackByAction&quot;&gt;
                      &lt;button
                        *ngIf&#x3D;&quot;!action.visible || action.visible(row)&quot;
                        [title]&#x3D;&quot;action.label&quot;
                        (click)&#x3D;&quot;action.onClick(row)&quot;
                        class&#x3D;&quot;inline-flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors&quot;
                        [attr.aria-label]&#x3D;&quot;action.label&quot;
                      &gt;
                        &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;{{ action.icon }}&lt;/span&gt;
                      &lt;/button&gt;
                    &lt;/ng-container&gt;
                  &lt;/td&gt;
                &lt;/tr&gt;
                &lt;!-- Empty State for Virtual Scrolling --&gt;
                &lt;tr *ngIf&#x3D;&quot;paginatedData.length &#x3D;&#x3D;&#x3D; 0 &amp;&amp; !loading&quot; role&#x3D;&quot;row&quot;&gt;
                  &lt;td [attr.colspan]&#x3D;&quot;(selectable ? 1 : 0) + columns.length + (actions.length &gt; 0 ? 1 : 0)&quot; class&#x3D;&quot;px-6 py-12 text-center&quot; role&#x3D;&quot;gridcell&quot;&gt;
                    &lt;div class&#x3D;&quot;flex flex-col items-center justify-center&quot; role&#x3D;&quot;status&quot; [attr.aria-live]&#x3D;&quot;&#x27;polite&#x27;&quot;&gt;
                      &lt;span class&#x3D;&quot;text-4xl mb-2&quot; aria-hidden&#x3D;&quot;true&quot;&gt;{{ emptyIcon }}&lt;/span&gt;
                      &lt;p class&#x3D;&quot;text-gray-500 dark:text-gray-400&quot;&gt;{{ emptyText }}&lt;/p&gt;
                    &lt;/div&gt;
                  &lt;/td&gt;
                &lt;/tr&gt;
              &lt;/cdk-virtual-scroll-viewport&gt;
            &lt;/tbody&gt;
            &lt;!-- Regular Table Body (Non-Virtual Scrolling) --&gt;
            &lt;tbody *ngIf&#x3D;&quot;!enableVirtualScrolling&quot; class&#x3D;&quot;divide-y divide-gray-200 dark:divide-gray-700&quot;&gt;
              &lt;tr
                *ngFor&#x3D;&quot;let row of paginatedData; trackBy: trackByRowId&quot;
                [class.bg-blue-50/50]&#x3D;&quot;isRowSelected(row)&quot;
                class&#x3D;&quot;hover:bg-white/50 dark:hover:bg-gray-800/50 transition-colors&quot;
                role&#x3D;&quot;row&quot;
                [attr.aria-selected]&#x3D;&quot;selectable ? isRowSelected(row) : null&quot;
                [attr.aria-label]&#x3D;&quot;&#x27;Row &#x27; + (trackByRowId(0, row) || &#x27;&#x27;)&quot;
                [attr.tabindex]&#x3D;&quot;selectable ? 0 : null&quot;
                (click)&#x3D;&quot;rowClicked.emit(row)&quot;
                (keydown.enter)&#x3D;&quot;rowClicked.emit(row)&quot;
              &gt;
                &lt;td *ngIf&#x3D;&quot;selectable&quot; class&#x3D;&quot;px-6 py-4 whitespace-nowrap&quot; role&#x3D;&quot;gridcell&quot;&gt;
                  &lt;input
                    type&#x3D;&quot;checkbox&quot;
                    [checked]&#x3D;&quot;isRowSelected(row)&quot;
                    (change)&#x3D;&quot;onRowSelectChange(row, $event)&quot;
                    class&#x3D;&quot;cursor-pointer&quot;
                    [attr.aria-label]&#x3D;&quot;&#x27;Select row &#x27; + (trackByRowId(0, row) || &#x27;&#x27;)&quot;
                    [attr.aria-checked]&#x3D;&quot;isRowSelected(row)&quot;
                  /&gt;
                &lt;/td&gt;
                &lt;td
                  *ngFor&#x3D;&quot;let column of columns; trackBy: trackByColumn&quot;
                  [class.text-left]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;left&#x27; || !column.align&quot;
                  [class.text-center]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;center&#x27;&quot;
                  [class.text-right]&#x3D;&quot;column.align &#x3D;&#x3D;&#x3D; &#x27;right&#x27;&quot;
                  class&#x3D;&quot;px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100&quot;
                  role&#x3D;&quot;gridcell&quot;
                  [attr.aria-label]&#x3D;&quot;column.label + &#x27;: &#x27; + getCellValue(row, column)&quot;
                &gt;
                  &lt;!-- Custom Template --&gt;
                  &lt;ng-container *ngIf&#x3D;&quot;column.template; else defaultCell&quot;&gt;
                    &lt;ng-container *ngTemplateOutlet&#x3D;&quot;column.template; context: { $implicit: row, column: column, value: getNestedValue(row, column.key) }&quot;&gt;&lt;/ng-container&gt;
                  &lt;/ng-container&gt;
                  &lt;!-- Default Cell --&gt;
                  &lt;ng-template #defaultCell&gt;
                    &lt;span [innerHTML]&#x3D;&quot;getCellValue(row, column)&quot;&gt;&lt;/span&gt;
                  &lt;/ng-template&gt;
                &lt;/td&gt;
                &lt;td *ngIf&#x3D;&quot;actions.length &gt; 0&quot; class&#x3D;&quot;px-6 py-4 whitespace-nowrap text-right text-sm space-x-2&quot; role&#x3D;&quot;gridcell&quot;&gt;
                  &lt;ng-container *ngFor&#x3D;&quot;let action of actions; trackBy: trackByAction&quot;&gt;
                    &lt;button
                      *ngIf&#x3D;&quot;!action.visible || action.visible(row)&quot;
                      [title]&#x3D;&quot;action.label&quot;
                      (click)&#x3D;&quot;action.onClick(row)&quot;
                      class&#x3D;&quot;inline-flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors&quot;
                      [attr.aria-label]&#x3D;&quot;action.label&quot;
                    &gt;
                      &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;{{ action.icon }}&lt;/span&gt;
                    &lt;/button&gt;
                  &lt;/ng-container&gt;
                &lt;/td&gt;
              &lt;/tr&gt;
              &lt;!-- Empty State --&gt;
              &lt;tr *ngIf&#x3D;&quot;paginatedData.length &#x3D;&#x3D;&#x3D; 0 &amp;&amp; !loading&quot; role&#x3D;&quot;row&quot;&gt;
                &lt;td [attr.colspan]&#x3D;&quot;(selectable ? 1 : 0) + columns.length + (actions.length &gt; 0 ? 1 : 0)&quot; class&#x3D;&quot;px-6 py-12 text-center&quot; role&#x3D;&quot;gridcell&quot;&gt;
                  &lt;div class&#x3D;&quot;flex flex-col items-center justify-center&quot; role&#x3D;&quot;status&quot; [attr.aria-live]&#x3D;&quot;&#x27;polite&#x27;&quot;&gt;
                    &lt;span class&#x3D;&quot;text-4xl mb-2&quot; aria-hidden&#x3D;&quot;true&quot;&gt;{{ emptyIcon }}&lt;/span&gt;
                    &lt;p class&#x3D;&quot;text-gray-500 dark:text-gray-400&quot;&gt;{{ emptyText }}&lt;/p&gt;
                  &lt;/div&gt;
                &lt;/td&gt;
              &lt;/tr&gt;
            &lt;/tbody&gt;
          &lt;/table&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Pagination --&gt;
      &lt;nav *ngIf&#x3D;&quot;(pagination &amp;&amp; pagination.total &gt; 0) || (!pagination &amp;&amp; data.length &gt; pageSize)&quot; class&#x3D;&quot;p-4 border-t border-gray-200 dark:border-gray-700 flex justify-between items-center&quot; role&#x3D;&quot;navigation&quot; [attr.aria-label]&#x3D;&quot;&#x27;Table pagination&#x27;&quot;&gt;
        &lt;div class&#x3D;&quot;text-sm text-gray-500 dark:text-gray-400&quot; role&#x3D;&quot;status&quot; [attr.aria-live]&#x3D;&quot;&#x27;polite&#x27;&quot;&gt;
          Showing {{ startIndex + 1 }} to {{ endIndex }} of {{ pagination ? pagination.total : data.length }} entries
        &lt;/div&gt;
        &lt;div class&#x3D;&quot;flex space-x-2&quot; role&#x3D;&quot;group&quot; [attr.aria-label]&#x3D;&quot;&#x27;Pagination controls&#x27;&quot;&gt;
          &lt;button
            [disabled]&#x3D;&quot;currentPageValue &#x3D;&#x3D;&#x3D; 1&quot;
            (click)&#x3D;&quot;changePage(currentPageValue - 1)&quot;
            class&#x3D;&quot;glass-button px-3 py-1 text-sm disabled:opacity-50&quot;
            [attr.aria-label]&#x3D;&quot;&#x27;Go to previous page&#x27;&quot;
            [attr.aria-disabled]&#x3D;&quot;currentPageValue &#x3D;&#x3D;&#x3D; 1&quot;
          &gt;
            Previous
          &lt;/button&gt;
          &lt;button
            *ngFor&#x3D;&quot;let page of pages; trackBy: trackByPage&quot;
            [class.bg-primary-500]&#x3D;&quot;page &#x3D;&#x3D;&#x3D; currentPageValue&quot;
            [class.text-white]&#x3D;&quot;page &#x3D;&#x3D;&#x3D; currentPageValue&quot;
            (click)&#x3D;&quot;changePage(page)&quot;
            class&#x3D;&quot;glass-button px-3 py-1 text-sm&quot;
            [attr.aria-label]&#x3D;&quot;&#x27;Go to page &#x27; + page&quot;
            [attr.aria-current]&#x3D;&quot;page &#x3D;&#x3D;&#x3D; currentPageValue ? &#x27;page&#x27; : null&quot;
          &gt;
            {{ page }}
          &lt;/button&gt;
          &lt;button
            [disabled]&#x3D;&quot;currentPageValue &#x3D;&#x3D;&#x3D; totalPages&quot;
            (click)&#x3D;&quot;changePage(currentPageValue + 1)&quot;
            class&#x3D;&quot;glass-button px-3 py-1 text-sm disabled:opacity-50&quot;
            [attr.aria-label]&#x3D;&quot;&#x27;Go to next page&#x27;&quot;
            [attr.aria-disabled]&#x3D;&quot;currentPageValue &#x3D;&#x3D;&#x3D; totalPages&quot;
          &gt;
            Next
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/nav&gt;
    &lt;/div&gt;
  &#x60;,
  styles: [&#x60;
    .virtual-scroll-viewport {
      height: 400px;
      display: block;
      overflow: auto;
    }
    .virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper {
      display: table;
      width: 100%;
      table-layout: fixed;
    }
    .virtual-scroll-viewport .cdk-virtual-scroll-spacer {
      display: table-row;
    }
  &#x60;]
})
export class DataTableComponent implements AfterViewChecked {
  /**
   * Table columns configuration
   * @default []
   */
  @Input() columns: TableColumn[] &#x3D; [];

  /**
   * Table data rows
   * @default []
   */
  @Input() data: any[] &#x3D; [];

  /**
   * Row action buttons
   * @default []
   */
  @Input() actions: TableAction[] &#x3D; [];

  /**
   * Whether search is enabled
   * @default true
   */
  @Input() searchable: boolean &#x3D; true;

  /**
   * Number of rows per page
   * @default 10
   */
  @Input() pageSize: number &#x3D; 10;

  /**
   * External pagination configuration
   */
  @Input() pagination?: PaginationConfig;

  /**
   * Whether row selection is enabled
   * @default false
   */
  @Input() selectable: boolean &#x3D; false;

  /**
   * Function to get unique row identifier
   */
  @Input() getRowId?: (row: any) &#x3D;&gt; string | number;

  /**
   * Whether table is in loading state
   * @default false
   */
  @Input() loading: boolean &#x3D; false;

  /**
   * Empty state text
   * @default &#x27;No data available&#x27;
   */
  @Input() emptyText: string &#x3D; &#x27;No data available&#x27;;

  /**
   * Empty state icon
   * @default &#x27;ðŸ“­&#x27;
   */
  @Input() emptyIcon: string &#x3D; &#x27;ðŸ“­&#x27;;

  /**
   * Whether column filters are enabled
   * @default false
   */
  @Input() enableColumnFilters: boolean &#x3D; false;

  /**
   * Whether multi-column sorting is enabled
   * @default false
   */
  @Input() enableMultiSort: boolean &#x3D; false;

  /**
   * Whether export functionality is shown
   * @default false
   */
  @Input() showExport: boolean &#x3D; false;

  /**
   * Available export formats
   * @default [&#x27;csv&#x27;, &#x27;json&#x27;]
   */
  @Input() exportFormats: string[] &#x3D; [&#x27;csv&#x27;, &#x27;json&#x27;];

  /**
   * Export file name
   * @default &#x27;data-export&#x27;
   */
  @Input() exportFileName: string &#x3D; &#x27;data-export&#x27;;

  /**
   * Enable virtual scrolling for large datasets
   * @default false
   */
  @Input() enableVirtualScrolling: boolean &#x3D; false;

  /**
   * Height of each row in pixels (for virtual scrolling)
   * @default 50
   */
  @Input() virtualScrollItemSize: number &#x3D; 50;

  /**
   * Number of items to render outside viewport (for virtual scrolling)
   * @default 5
   */
  @Input() virtualScrollBufferSize: number &#x3D; 5;

  /**
   * Additional CSS classes
   * @default &#x27;&#x27;
   */
  @Input() customClass: string &#x3D; &#x27;&#x27;;

  /**
   * ARIA label for table
   * @default &#x27;&#x27;
   */
  @Input() ariaLabel: string &#x3D; &#x27;&#x27;;

  /**
   * Emitted when a row is clicked
   */
  @Output() rowClicked &#x3D; new EventEmitter&lt;any&gt;();

  /**
   * Emitted when sorting changes
   */
  @Output() sorted &#x3D; new EventEmitter&lt;SortEvent&gt;();

  /**
   * Emitted when page changes
   */
  @Output() pageChange &#x3D; new EventEmitter&lt;number&gt;();

  /**
   * Emitted when page size changes
   */
  @Output() pageSizeChange &#x3D; new EventEmitter&lt;number&gt;();

  /**
   * Emitted when selection changes
   */
  @Output() selectionChange &#x3D; new EventEmitter&lt;any[]&gt;();

  /**
   * Emitted when filters change
   */
  @Output() filterChange &#x3D; new EventEmitter&lt;{[key: string]: any}&gt;();

  @ViewChild(&#x27;selectAllCheckbox&#x27;, { static: false }) selectAllCheckbox?: ElementRef&lt;HTMLInputElement&gt;;

  searchTerm: string &#x3D; &#x27;&#x27;;
  sortBy: string &#x3D; &#x27;&#x27;;
  sortDirection: &#x27;asc&#x27; | &#x27;desc&#x27; &#x3D; &#x27;asc&#x27;;
  sortState: Array&lt;{key: string, direction: &#x27;asc&#x27; | &#x27;desc&#x27;}&gt; &#x3D; [];
  currentPage: number &#x3D; 1;
  selectedRows &#x3D; new Set&lt;any&gt;();
  columnFilters: {[key: string]: any} &#x3D; {};
  showExportMenu: boolean &#x3D; false;

  ngAfterViewChecked(): void {
    // Set indeterminate state for select all checkbox
    if (this.selectable &amp;&amp; this.selectAllCheckbox?.nativeElement) {
      this.selectAllCheckbox.nativeElement.indeterminate &#x3D; this.isIndeterminate();
    }
  }

  @HostListener(&#x27;document:click&#x27;, [&#x27;$event&#x27;])
  onDocumentClick(event: MouseEvent): void {
    // Close export menu when clicking outside
    if (this.showExportMenu) {
      const target &#x3D; event.target as HTMLElement;
      if (!target.closest(&#x27;.export-menu-container&#x27;)) {
        this.showExportMenu &#x3D; false;
      }
    }
  }

  get filteredData(): any[] {
    let filtered &#x3D; [...this.data];

    // Apply global search
    if (this.searchTerm) {
      filtered &#x3D; filtered.filter(row &#x3D;&gt; {
        return this.columns.some(column &#x3D;&gt; {
          const value &#x3D; this.getNestedValue(row, column.key);
          return String(value).toLowerCase().includes(this.searchTerm.toLowerCase());
        });
      });
    }

    // Apply column filters
    if (this.enableColumnFilters) {
      filtered &#x3D; filtered.filter(row &#x3D;&gt; {
        return Object.keys(this.columnFilters).every(key &#x3D;&gt; {
          const filterValue &#x3D; this.columnFilters[key];
          if (!filterValue &amp;&amp; filterValue !&#x3D;&#x3D; 0 &amp;&amp; filterValue !&#x3D;&#x3D; false) return true;

          const column &#x3D; this.columns.find(col &#x3D;&gt; col.key &#x3D;&#x3D;&#x3D; key);
          if (!column || !column.filterable) return true;

          const cellValue &#x3D; this.getNestedValue(row, column.key);
          return this.matchesFilter(cellValue, filterValue, column);
        });
      });
    }

    return filtered;
  }

  get sortedData(): any[] {
    // Multi-sort mode
    if (this.enableMultiSort &amp;&amp; this.sortState.length &gt; 0) {
      return [...this.filteredData].sort((a, b) &#x3D;&gt; {
        for (const sort of this.sortState) {
          const aVal &#x3D; this.getNestedValue(a, sort.key);
          const bVal &#x3D; this.getNestedValue(b, sort.key);

          let comparison &#x3D; 0;
          if (aVal &lt; bVal) comparison &#x3D; -1;
          if (aVal &gt; bVal) comparison &#x3D; 1;

          if (comparison !&#x3D;&#x3D; 0) {
            return sort.direction &#x3D;&#x3D;&#x3D; &#x27;asc&#x27; ? comparison : -comparison;
          }
        }
        return 0;
      });
    }

    // Single-sort mode (default)
    if (!this.sortBy) return this.filteredData;

    return [...this.filteredData].sort((a, b) &#x3D;&gt; {
      const aVal &#x3D; this.getNestedValue(a, this.sortBy);
      const bVal &#x3D; this.getNestedValue(b, this.sortBy);

      if (aVal &lt; bVal) return this.sortDirection &#x3D;&#x3D;&#x3D; &#x27;asc&#x27; ? -1 : 1;
      if (aVal &gt; bVal) return this.sortDirection &#x3D;&#x3D;&#x3D; &#x27;asc&#x27; ? 1 : -1;
      return 0;
    });
  }

  get paginatedData(): any[] {
    // Use pagination config if provided, otherwise use internal pagination
    if (this.pagination) {
      return this.sortedData;
    }
    const start &#x3D; (this.currentPage - 1) * this.pageSize;
    const end &#x3D; start + this.pageSize;
    return this.sortedData.slice(start, end);
  }

  get totalPages(): number {
    if (this.pagination) {
      return this.pagination.totalPages;
    }
    return Math.ceil(this.sortedData.length / this.pageSize);
  }

  get pages(): number[] {
    const pages &#x3D; [];
    const maxPages &#x3D; Math.min(this.totalPages, 10); // Show max 10 page numbers
    const startPage &#x3D; Math.max(1, this.currentPageValue - 4);
    const endPage &#x3D; Math.min(this.totalPages, startPage + maxPages - 1);
    for (let i &#x3D; startPage; i &lt;&#x3D; endPage; i++) {
      pages.push(i);
    }
    return pages;
  }

  get startIndex(): number {
    if (this.pagination) {
      return (this.pagination.currentPage - 1) * this.pagination.pageSize;
    }
    return (this.currentPage - 1) * this.pageSize;
  }

  get endIndex(): number {
    if (this.pagination) {
      return Math.min(this.startIndex + this.pagination.pageSize, this.pagination.total);
    }
    return Math.min(this.startIndex + this.pageSize, this.sortedData.length);
  }

  get currentPageValue(): number {
    return this.pagination ? this.pagination.currentPage : this.currentPage;
  }

  get pageSizeValue(): number {
    return this.pagination ? this.pagination.pageSize : this.pageSize;
  }

  onSearch(): void {
    this.currentPage &#x3D; 1;
  }

  onHeaderClick(event: MouseEvent, column: TableColumn): void {
    // Don&#x27;t sort if clicking on input or select elements
    const target &#x3D; event.target as HTMLElement;
    if (target.closest(&#x27;input, select&#x27;)) {
      return;
    }

    if (column.sortable) {
      this.onSort(column.key);
    }
  }

  onSort(key: string): void {
    if (this.enableMultiSort) {
      const existingSort &#x3D; this.sortState.find(s &#x3D;&gt; s.key &#x3D;&#x3D;&#x3D; key);
      if (existingSort) {
        // Toggle direction
        existingSort.direction &#x3D; existingSort.direction &#x3D;&#x3D;&#x3D; &#x27;asc&#x27; ? &#x27;desc&#x27; : &#x27;asc&#x27;;
        // Remove if toggled to none (optional - or keep for 3-state)
      } else {
        // Add new sort
        this.sortState.push({ key, direction: &#x27;asc&#x27; });
      }
      // Keep only last 3 sorts for simplicity
      if (this.sortState.length &gt; 3) {
        this.sortState.shift();
      }
    } else {
      if (this.sortBy &#x3D;&#x3D;&#x3D; key) {
        this.sortDirection &#x3D; this.sortDirection &#x3D;&#x3D;&#x3D; &#x27;asc&#x27; ? &#x27;desc&#x27; : &#x27;asc&#x27;;
      } else {
        this.sortBy &#x3D; key;
        this.sortDirection &#x3D; &#x27;asc&#x27;;
      }
    }

    // Emit sort event to parent component
    this.sorted.emit({
      column: key,
      direction: this.enableMultiSort ? (this.sortState.find(s &#x3D;&gt; s.key &#x3D;&#x3D;&#x3D; key)?.direction || &#x27;asc&#x27;) : this.sortDirection
    });
  }

  getSortDirection(columnKey: string): &#x27;asc&#x27; | &#x27;desc&#x27; | null {
    if (this.enableMultiSort) {
      const sort &#x3D; this.sortState.find(s &#x3D;&gt; s.key &#x3D;&#x3D;&#x3D; columnKey);
      return sort ? sort.direction : null;
    }
    return this.sortBy &#x3D;&#x3D;&#x3D; columnKey ? this.sortDirection : null;
  }

  onColumnFilter(columnKey: string, value: any): void {
    if (value &#x3D;&#x3D;&#x3D; &#x27;&#x27; || value &#x3D;&#x3D;&#x3D; null || value &#x3D;&#x3D;&#x3D; undefined) {
      delete this.columnFilters[columnKey];
    } else {
      this.columnFilters[columnKey] &#x3D; value;
    }
    this.currentPage &#x3D; 1;
    this.filterChange.emit({...this.columnFilters});
  }

  matchesFilter(value: any, filterValue: any, column: TableColumn): boolean {
    if (column.filterType &#x3D;&#x3D;&#x3D; &#x27;text&#x27;) {
      return String(value).toLowerCase().includes(String(filterValue).toLowerCase());
    } else if (column.filterType &#x3D;&#x3D;&#x3D; &#x27;number&#x27;) {
      return Number(value) &#x3D;&#x3D;&#x3D; Number(filterValue);
    } else if (column.filterType &#x3D;&#x3D;&#x3D; &#x27;select&#x27;) {
      return value &#x3D;&#x3D;&#x3D; filterValue;
    } else if (column.filterType &#x3D;&#x3D;&#x3D; &#x27;date&#x27;) {
      // Simple date comparison
      return String(value).includes(String(filterValue));
    }
    return String(value).toLowerCase().includes(String(filterValue).toLowerCase());
  }

  changePage(page: number): void {
    if (page &gt;&#x3D; 1 &amp;&amp; page &lt;&#x3D; this.totalPages) {
      this.currentPage &#x3D; page;
      this.pageChange.emit(page);
    }
  }

  // Selection methods
  getRowIdentifier(row: any): string | number {
    if (this.getRowId) {
      return this.getRowId(row);
    }
    // Default: use object reference or id property
    return row.id || row.company_id || JSON.stringify(row);
  }

  isRowSelected(row: any): boolean {
    const rowId &#x3D; this.getRowIdentifier(row);
    return Array.from(this.selectedRows).some(r &#x3D;&gt; this.getRowIdentifier(r) &#x3D;&#x3D;&#x3D; rowId);
  }

  onRowSelect(row: any, checked: boolean): void {
    const rowId &#x3D; this.getRowIdentifier(row);

    if (checked) {
      // Remove any existing row with same ID and add new one
      this.selectedRows &#x3D; new Set(Array.from(this.selectedRows).filter(r &#x3D;&gt; this.getRowIdentifier(r) !&#x3D;&#x3D; rowId));
      this.selectedRows.add(row);
    } else {
      this.selectedRows &#x3D; new Set(Array.from(this.selectedRows).filter(r &#x3D;&gt; this.getRowIdentifier(r) !&#x3D;&#x3D; rowId));
    }

    this.selectionChange.emit(Array.from(this.selectedRows));
  }

  onRowSelectChange(row: any, event: Event): void {
    const checked &#x3D; (event.target as HTMLInputElement).checked;
    this.onRowSelect(row, checked);
  }

  isAllSelected(): boolean {
    if (this.paginatedData.length &#x3D;&#x3D;&#x3D; 0) return false;
    return this.paginatedData.every(row &#x3D;&gt; this.isRowSelected(row));
  }

  isIndeterminate(): boolean {
    const selectedCount &#x3D; this.paginatedData.filter(row &#x3D;&gt; this.isRowSelected(row)).length;
    return selectedCount &gt; 0 &amp;&amp; selectedCount &lt; this.paginatedData.length;
  }

  onSelectAll(checked: boolean): void {
    if (checked) {
      this.paginatedData.forEach(row &#x3D;&gt; {
        if (!this.isRowSelected(row)) {
          this.selectedRows.add(row);
        }
      });
    } else {
      const currentPageIds &#x3D; new Set(this.paginatedData.map(row &#x3D;&gt; this.getRowIdentifier(row)));
      this.selectedRows &#x3D; new Set(Array.from(this.selectedRows).filter(r &#x3D;&gt; !currentPageIds.has(this.getRowIdentifier(r))));
    }

    this.selectionChange.emit(Array.from(this.selectedRows));
  }

  onSelectAllChange(event: Event): void {
    const checked &#x3D; (event.target as HTMLInputElement).checked;
    this.onSelectAll(checked);
  }

  clearSelection(): void {
    this.selectedRows.clear();
    this.selectionChange.emit([]);
  }

  changePageSize(size: number): void {
    this.pageSize &#x3D; size;
    this.currentPage &#x3D; 1;
    this.pageSizeChange.emit(size);
  }

  getCellValue(row: any, column: TableColumn): string {
    const value &#x3D; this.getNestedValue(row, column.key);
    return column.render ? column.render(value, row) : value;
  }

  getNestedValue(obj: any, path: string): any {
    return path.split(&#x27;.&#x27;).reduce((current, key) &#x3D;&gt; current?.[key], obj);
  }

  /**
   * TrackBy function for virtual scrolling and performance
   */
  trackByRowId(index: number, row: any): any {
    if (this.getRowId) {
      return this.getRowId(row);
    }
    return row.id || row.company_id || index;
  }

  /**
   * TrackBy function for columns
   */
  trackByColumn(index: number, column: TableColumn): string {
    return column.key;
  }

  /**
   * TrackBy function for actions
   */
  trackByAction(index: number, action: TableAction): string {
    return action.label + index;
  }

  /**
   * TrackBy function for pagination pages
   */
  trackByPage(index: number, page: number): number {
    return page;
  }

  /**
   * Get ARIA sort value for column
   */
  getAriaSort(columnKey: string): &#x27;ascending&#x27; | &#x27;descending&#x27; | &#x27;none&#x27; | null {
    const direction &#x3D; this.getSortDirection(columnKey);
    if (direction &#x3D;&#x3D;&#x3D; &#x27;asc&#x27;) return &#x27;ascending&#x27;;
    if (direction &#x3D;&#x3D;&#x3D; &#x27;desc&#x27;) return &#x27;descending&#x27;;
    return &#x27;none&#x27;;
  }

  /**
   * Export functionality
   */
  exportToCSV(): void {
    const data &#x3D; this.sortedData;
    const headers &#x3D; this.columns.map(col &#x3D;&gt; col.label);
    const rows &#x3D; data.map(row &#x3D;&gt;
      this.columns.map(col &#x3D;&gt; {
        const value &#x3D; this.getNestedValue(row, col.key);
        // Escape commas and quotes in CSV
        const stringValue &#x3D; String(value ?? &#x27;&#x27;).replace(/&quot;/g, &#x27;&quot;&quot;&#x27;);
        return &#x60;&quot;${stringValue}&quot;&#x60;;
      }).join(&#x27;,&#x27;)
    );

    const csvContent &#x3D; [
      headers.join(&#x27;,&#x27;),
      ...rows
    ].join(&#x27;\n&#x27;);

    // Add BOM for Excel UTF-8 support
    const BOM &#x3D; &#x27;\uFEFF&#x27;;
    const blob &#x3D; new Blob([BOM + csvContent], { type: &#x27;text/csv;charset&#x3D;utf-8;&#x27; });
    this.downloadFile(blob, &#x60;${this.exportFileName}.csv&#x60;, &#x27;text/csv&#x27;);
    this.showExportMenu &#x3D; false;
  }

  exportToExcel(): void {
    // For Excel, we&#x27;ll export as tab-separated values with .xls extension
    // Note: For true Excel format (.xlsx), you&#x27;d need a library like xlsx
    // This is a simplified version that works with Excel
    const data &#x3D; this.sortedData;
    const headers &#x3D; this.columns.map(col &#x3D;&gt; col.label);
    const rows &#x3D; data.map(row &#x3D;&gt;
      this.columns.map(col &#x3D;&gt; {
        const value &#x3D; this.getNestedValue(row, col.key);
        const stringValue &#x3D; String(value ?? &#x27;&#x27;).replace(/&quot;/g, &#x27;&quot;&quot;&#x27;);
        return &#x60;&quot;${stringValue}&quot;&#x60;;
      }).join(&#x27;\t&#x27;) // Use tab separator for Excel
    );

    const excelContent &#x3D; [
      headers.join(&#x27;\t&#x27;),
      ...rows
    ].join(&#x27;\n&#x27;);

    const BOM &#x3D; &#x27;\uFEFF&#x27;;
    const blob &#x3D; new Blob([BOM + excelContent], { type: &#x27;application/vnd.ms-excel&#x27; });
    this.downloadFile(blob, &#x60;${this.exportFileName}.xls&#x60;, &#x27;application/vnd.ms-excel&#x27;);
    this.showExportMenu &#x3D; false;
  }

  exportToJSON(): void {
    const data &#x3D; this.sortedData.map(row &#x3D;&gt; {
      const obj: any &#x3D; {};
      this.columns.forEach(col &#x3D;&gt; {
        obj[col.key] &#x3D; this.getNestedValue(row, col.key);
      });
      return obj;
    });

    const jsonContent &#x3D; JSON.stringify(data, null, 2);
    const blob &#x3D; new Blob([jsonContent], { type: &#x27;application/json&#x27; });
    this.downloadFile(blob, &#x60;${this.exportFileName}.json&#x60;, &#x27;application/json&#x27;);
    this.showExportMenu &#x3D; false;
  }

  private downloadFile(blob: Blob, filename: string, mimeType: string): void {
    const url &#x3D; window.URL.createObjectURL(blob);
    const link &#x3D; document.createElement(&#x27;a&#x27;);
    link.href &#x3D; url;
    link.download &#x3D; filename;
    link.style.display &#x3D; &#x27;none&#x27;;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    window.URL.revokeObjectURL(url);
  }
}

</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'SortEvent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
