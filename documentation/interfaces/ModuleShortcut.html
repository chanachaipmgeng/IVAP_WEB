<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>frontend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>
          <script>
              // --- Iframe navigation tracking for Template Playground ---
              function sendCurrentUrlToParent() {
                  if (window.parent && window.parent !== window) {
                      window.parent.postMessage({
                          type: 'compodoc-iframe-navigate',
                          url: window.location.pathname + window.location.hash
                      }, '*');
                  }
              }
              window.addEventListener('hashchange', sendCurrentUrlToParent, false);
              window.addEventListener('popstate', sendCurrentUrlToParent, false);
              window.addEventListener('DOMContentLoaded', sendCurrentUrlToParent, false);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">frontend documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">

















<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  ModuleShortcut</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/features/portal/dashboard/dashboard.component.ts</code>
        </p>




        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#bgClass" 
>
                                            bgClass
                                        </a>
                                </li>
                                <li>
                                        <a href="#colorClass" 
>
                                            colorClass
                                        </a>
                                </li>
                                <li>
                                        <a href="#description" 
>
                                            description
                                        </a>
                                </li>
                                <li>
                                        <a href="#icon" 
>
                                            icon
                                        </a>
                                </li>
                                <li>
                                        <a href="#id" 
>
                                            id
                                        </a>
                                </li>
                                <li>
                                        <a href="#label" 
>
                                            label
                                        </a>
                                </li>
                                <li>
                                        <a href="#route" 
>
                                            route
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="bgClass"></a>
                                        <span class="name "><b>bgClass</b>
                                            <a href="#bgClass">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>bgClass:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="colorClass"></a>
                                        <span class="name "><b>colorClass</b>
                                            <a href="#colorClass">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>colorClass:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="description"></a>
                                        <span class="name "><b>description</b>
                                            <a href="#description">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>description:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="icon"></a>
                                        <span class="name "><b>icon</b>
                                            <a href="#icon">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>icon:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="id"></a>
                                        <span class="name "><b>id</b>
                                            <a href="#id">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>id:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="label"></a>
                                        <span class="name "><b>label</b>
                                            <a href="#label">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>label:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="route"></a>
                                        <span class="name "><b>route</b>
                                            <a href="#route">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>route:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                                        </td>
                                    </tr>





                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, signal, computed, inject, effect } from &#x27;@angular/core&#x27;;
import { CommonModule } from &#x27;@angular/common&#x27;;
import { TranslateModule } from &#x27;@ngx-translate/core&#x27;;
import { Router, RouterModule } from &#x27;@angular/router&#x27;; // Added Router, RouterModule
import { GlassCardComponent } from &#x27;../../../shared/components/glass-card/glass-card.component&#x27;;
// Removed LoadingComponent import
import { EChartsChartComponent, EChartsOption } from &#x27;../../../shared/components/echarts-chart/echarts-chart.component&#x27;;
import { PageLayoutComponent, PageAction } from &#x27;../../../shared/components/page-layout/page-layout.component&#x27;;
import { StatisticsGridComponent, StatCard } from &#x27;../../../shared/components/statistics-grid/statistics-grid.component&#x27;;
import { MaterialService } from &#x27;../../../shared/services/material.service&#x27;;
import { ApiService } from &#x27;../../../core/services/api.service&#x27;;
import { ErrorHandlerService } from &#x27;../../../core/services/error-handler.service&#x27;;
import { AuthService } from &#x27;../../../core/services/auth.service&#x27;;
import { I18nService } from &#x27;../../../core/services/i18n.service&#x27;;
import { DashboardService } from &#x27;../../../core/services/dashboard.service&#x27;;
import { GuestService } from &#x27;../../../core/services/guest.service&#x27;;
import { PortalStatistics, Dashboard } from &#x27;../../../core/models/portal.model&#x27;;
import { BaseComponent } from &#x27;../../../core/base/base.component&#x27;;

interface ModuleShortcut {
  id: string;
  icon: string;
  label: string;
  description: string;
  route: string;
  colorClass: string; // Tailwind text color class for icon
  bgClass: string;    // Tailwind bg color class for icon container
}

@Component({
  selector: &#x27;app-dashboard&#x27;,
  standalone: true,
  imports: [
    CommonModule,
    TranslateModule,
    RouterModule, // Added RouterModule
    GlassCardComponent,
    // Removed LoadingComponent from imports
    EChartsChartComponent,
    PageLayoutComponent,
    StatisticsGridComponent
  ],
  templateUrl: &#x27;./dashboard.component.html&#x27;,
  styleUrls: [&#x27;./dashboard.component.scss&#x27;]
})
export class DashboardComponent extends BaseComponent implements OnInit {
  private errorHandler &#x3D; inject(ErrorHandlerService);
  private router &#x3D; inject(Router); // Inject Router

  // Local state
  private dashboardData &#x3D; signal&lt;Dashboard | null&gt;(null);
  private statisticsData &#x3D; signal&lt;PortalStatistics | null&gt;(null);
  private loadingState &#x3D; signal(false);

  // Getters
  getLoading &#x3D; () &#x3D;&gt; this.loadingState.asReadonly();
  getStatistics &#x3D; () &#x3D;&gt; this.statisticsData.asReadonly();
  getDashboard &#x3D; () &#x3D;&gt; this.dashboardData.asReadonly();

  // Additional statistics signals
  visitorStats &#x3D; signal&lt;any&gt;(null);
  guestStats &#x3D; signal&lt;any&gt;(null);
  vehicleStats &#x3D; signal&lt;any&gt;(null);
  deviceStats &#x3D; signal&lt;any&gt;(null);
  errorMessage &#x3D; signal&lt;string&gt;(&#x27;&#x27;);

  // Module Shortcuts Data
  moduleShortcuts &#x3D; signal&lt;ModuleShortcut[]&gt;([
    {
      id: &#x27;company&#x27;,
      icon: &#x27;üè¢&#x27;,
      label: &#x27;‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó&#x27;,
      description: &#x27;Overview, Profile, Structure, Reports&#x27;,
      route: &#x27;/portal/company-dashboard&#x27;,
      colorClass: &#x27;text-blue-600 dark:text-blue-400&#x27;,
      bgClass: &#x27;bg-blue-100 dark:bg-blue-900/30&#x27;
    },
    {
      id: &#x27;face-recognition&#x27;,
      icon: &#x27;üëÅÔ∏è&#x27;,
      label: &#x27;Face Recognition&#x27;,
      description: &#x27;Live Monitor, Enrollment, Watchlist&#x27;,
      route: &#x27;/portal/face-recognition-live&#x27;,
      colorClass: &#x27;text-indigo-600 dark:text-indigo-400&#x27;,
      bgClass: &#x27;bg-indigo-100 dark:bg-indigo-900/30&#x27;
    },
    {
      id: &#x27;event&#x27;,
      icon: &#x27;üéâ&#x27;,
      label: &#x27;Event Management&#x27;,
      description: &#x27;Events, Registration, Kiosk Config&#x27;,
      route: &#x27;/portal/event-dashboard&#x27;,
      colorClass: &#x27;text-pink-600 dark:text-pink-400&#x27;,
      bgClass: &#x27;bg-pink-100 dark:bg-pink-900/30&#x27;
    },
    {
      id: &#x27;video-analytics&#x27;,
      icon: &#x27;üî¨&#x27;,
      label: &#x27;Video Analytics&#x27;,
      description: &#x27;Playback, Heatmaps, Zone Config&#x27;,
      route: &#x27;/portal/video-analytics&#x27;,
      colorClass: &#x27;text-purple-600 dark:text-purple-400&#x27;,
      bgClass: &#x27;bg-purple-100 dark:bg-purple-900/30&#x27;
    },
    {
      id: &#x27;access-control&#x27;,
      icon: &#x27;üö™&#x27;,
      label: &#x27;Access Control&#x27;,
      description: &#x27;Doors, Access Groups, Schedules&#x27;,
      route: &#x27;/portal/access-dashboard&#x27;,
      colorClass: &#x27;text-emerald-600 dark:text-emerald-400&#x27;,
      bgClass: &#x27;bg-emerald-100 dark:bg-emerald-900/30&#x27;
    },
    {
      id: &#x27;attendance&#x27;,
      icon: &#x27;üìã&#x27;,
      label: &#x27;Attendance&#x27;,
      description: &#x27;Time Records, Shifts, Leaves&#x27;,
      route: &#x27;/portal/attendance-dashboard&#x27;,
      colorClass: &#x27;text-teal-600 dark:text-teal-400&#x27;,
      bgClass: &#x27;bg-teal-100 dark:bg-teal-900/30&#x27;
    },
    {
      id: &#x27;visitor&#x27;,
      icon: &#x27;üö∂&#x27;,
      label: &#x27;Visitor Management&#x27;,
      description: &#x27;Visitors, Invitations, Blacklist&#x27;,
      route: &#x27;/portal/visitor-dashboard&#x27;,
      colorClass: &#x27;text-cyan-600 dark:text-cyan-400&#x27;,
      bgClass: &#x27;bg-cyan-100 dark:bg-cyan-900/30&#x27;
    },
    {
      id: &#x27;parking&#x27;,
      icon: &#x27;üöó&#x27;,
      label: &#x27;Vehicle &amp; Parking&#x27;,
      description: &#x27;Parking Lots, Vehicles, Rules&#x27;,
      route: &#x27;/portal/parking-dashboard&#x27;,
      colorClass: &#x27;text-orange-600 dark:text-orange-400&#x27;,
      bgClass: &#x27;bg-orange-100 dark:bg-orange-900/30&#x27;
    },
    {
      id: &#x27;surveillance&#x27;,
      icon: &#x27;üõ°Ô∏è&#x27;,
      label: &#x27;Smart Surveillance&#x27;,
      description: &#x27;GIS Map, Alerts, Incident Reports&#x27;,
      route: &#x27;/portal/surveillance-map&#x27;,
      colorClass: &#x27;text-red-600 dark:text-red-400&#x27;,
      bgClass: &#x27;bg-red-100 dark:bg-red-900/30&#x27;
    },
    {
      id: &#x27;system&#x27;,
      icon: &#x27;‚öôÔ∏è&#x27;,
      label: &#x27;System Management&#x27;,
      description: &#x27;Users, Devices, Settings, Logs&#x27;,
      route: &#x27;/portal/hardware-status-dashboard&#x27;,
      colorClass: &#x27;text-gray-600 dark:text-gray-400&#x27;,
      bgClass: &#x27;bg-gray-100 dark:bg-gray-800&#x27;
    },
    {
      id: &#x27;kiosk&#x27;,
      icon: &#x27;üåê&#x27;,
      label: &#x27;Public &amp; Kiosk&#x27;,
      description: &#x27;Kiosk Display, Self Service&#x27;,
      route: &#x27;/kiosk/default-device&#x27;,
      colorClass: &#x27;text-lime-600 dark:text-lime-400&#x27;,
      bgClass: &#x27;bg-lime-100 dark:bg-lime-900/30&#x27;
    },
    {
      id: &#x27;demo&#x27;,
      icon: &#x27;üß™&#x27;,
      label: &#x27;Demo &amp; Lab&#x27;,
      description: &#x27;Experimental Features, UI Components&#x27;,
      route: &#x27;/portal/advanced-ui-demo&#x27;,
      colorClass: &#x27;text-violet-600 dark:text-violet-400&#x27;,
      bgClass: &#x27;bg-violet-100 dark:bg-violet-900/30&#x27;
    }
  ]);

  /**
   * TrackBy function for recent check-ins
   */
  trackByCheckIn(index: number, checkIn: any): string {
    return checkIn.id || index.toString();
  }

  /**
   * TrackBy function for upcoming events
   */
  trackByEvent(index: number, event: any): string {
    return event.id || index.toString();
  }

  // Computed signals
  stats &#x3D; computed(() &#x3D;&gt; this.getStatistics()());
  recentCheckIns &#x3D; computed(() &#x3D;&gt; this.getRecentCheckIns());
  upcomingEvents &#x3D; computed(() &#x3D;&gt; this.getUpcomingEvents());

  // Statistics cards for grid
  statisticsCards &#x3D; computed&lt;StatCard[]&gt;(() &#x3D;&gt; {
    const s &#x3D; this.stats();
    if (!s) return [];
    return [
      {
        icon: &#x27;üë•&#x27;,
        label: this.i18n.t(&#x27;pages.dashboard.totalEmployees&#x27;),
        value: s.totalEmployees || 0,
        iconBgClass: &#x27;bg-blue-100 dark:bg-blue-900&#x27;
      },
      {
        icon: &#x27;‚úì&#x27;,
        label: this.i18n.t(&#x27;pages.dashboard.activeEmployees&#x27;),
        value: s.activeEmployees || 0,
        iconBgClass: &#x27;bg-green-100 dark:bg-green-900&#x27;
      },
      {
        icon: &#x27;üë§&#x27;,
        label: this.i18n.t(&#x27;pages.dashboard.totalVisitors&#x27;),
        value: s.totalVisitors || 0,
        iconBgClass: &#x27;bg-purple-100 dark:bg-purple-900&#x27;
      },
      {
        icon: &#x27;üéâ&#x27;,
        label: this.i18n.t(&#x27;pages.dashboard.totalEvents&#x27;),
        value: s.totalEvents || 0,
        iconBgClass: &#x27;bg-yellow-100 dark:bg-yellow-900&#x27;
      }
    ];
  });

  // Page actions
  pageActions &#x3D; computed&lt;PageAction[]&gt;(() &#x3D;&gt; [
    {
      label: this.i18n.t(&#x27;pages.dashboard.refreshData&#x27;),
      variant: &#x27;secondary&#x27;,
      onClick: () &#x3D;&gt; this.refreshData()
    }
  ]);

  // ECharts Options - computed from data
  attendanceChartOptions &#x3D; computed&lt;EChartsOption&gt;(() &#x3D;&gt; {
    const presentLabel &#x3D; this.i18n.t(&#x27;pages.dashboard.present&#x27;);
    const absentLabel &#x3D; this.i18n.t(&#x27;pages.dashboard.absent&#x27;);
    const categories &#x3D; [&#x27;Mon&#x27;, &#x27;Tue&#x27;, &#x27;Wed&#x27;, &#x27;Thu&#x27;, &#x27;Fri&#x27;, &#x27;Sat&#x27;, &#x27;Sun&#x27;];
    
    return {
      tooltip: {
        trigger: &#x27;axis&#x27;,
        backgroundColor: &#x27;rgba(26, 26, 46, 0.9)&#x27;,
        borderColor: &#x27;rgba(59, 130, 246, 0.3)&#x27;,
        textStyle: { color: &#x27;#ffffff&#x27; }
      },
      legend: {
        data: [presentLabel, absentLabel],
        textStyle: { color: &#x27;#ffffff&#x27; },
        top: &#x27;top&#x27;
      },
      grid: {
        left: &#x27;3%&#x27;,
        right: &#x27;4%&#x27;,
        bottom: &#x27;3%&#x27;,
        containLabel: true
      },
      xAxis: {
        type: &#x27;category&#x27;,
        data: categories,
        axisLine: { lineStyle: { color: &#x27;#6b7280&#x27; } },
        axisLabel: { color: &#x27;#9ca3af&#x27; }
      },
      yAxis: {
        type: &#x27;value&#x27;,
        axisLine: { lineStyle: { color: &#x27;#6b7280&#x27; } },
        axisLabel: { color: &#x27;#9ca3af&#x27; },
        splitLine: { lineStyle: { color: &#x27;rgba(59, 130, 246, 0.1)&#x27; } }
      },
      series: [
        {
          name: presentLabel,
          type: &#x27;line&#x27;,
          data: [85, 92, 78, 96, 88, 45, 32],
          smooth: true,
          areaStyle: { opacity: 0.2 },
          itemStyle: { color: &#x27;#3b82f6&#x27; },
          lineStyle: { color: &#x27;#3b82f6&#x27;, width: 2 }
        },
        {
          name: absentLabel,
          type: &#x27;line&#x27;,
          data: [15, 8, 22, 4, 12, 55, 68],
          smooth: true,
          areaStyle: { opacity: 0.2 },
          itemStyle: { color: &#x27;#ef4444&#x27; },
          lineStyle: { color: &#x27;#ef4444&#x27;, width: 2 }
        }
      ],
      color: [&#x27;#3b82f6&#x27;, &#x27;#ef4444&#x27;],
      backgroundColor: &#x27;transparent&#x27;,
      textStyle: { color: &#x27;#ffffff&#x27; },
      animation: true,
      animationDuration: 1000
    };
  });

  doorChartOptions &#x3D; computed&lt;EChartsOption&gt;(() &#x3D;&gt; {
    const onlineLabel &#x3D; this.i18n.t(&#x27;pages.dashboard.online&#x27;);
    const offlineLabel &#x3D; this.i18n.t(&#x27;pages.dashboard.offline&#x27;);
    const maintenanceLabel &#x3D; this.i18n.t(&#x27;pages.dashboard.maintenance&#x27;);
    
    return {
      tooltip: {
        trigger: &#x27;item&#x27;,
        backgroundColor: &#x27;rgba(26, 26, 46, 0.9)&#x27;,
        borderColor: &#x27;rgba(59, 130, 246, 0.3)&#x27;,
        textStyle: { color: &#x27;#ffffff&#x27; },
        formatter: &#x27;{b}: {c} ({d}%)&#x27;
      },
      legend: {
        data: [onlineLabel, offlineLabel, maintenanceLabel],
        textStyle: { color: &#x27;#ffffff&#x27; },
        bottom: &#x27;bottom&#x27;
      },
      series: [
        {
          name: &#x27;Doors&#x27;,
          type: &#x27;pie&#x27;,
          radius: [&#x27;40%&#x27;, &#x27;70%&#x27;],
          avoidLabelOverlap: false,
          itemStyle: {
            borderRadius: 10,
            borderColor: &#x27;#fff&#x27;,
            borderWidth: 2
          },
          label: {
            show: true,
            color: &#x27;#ffffff&#x27;
          },
          emphasis: {
            label: {
              show: true,
              fontSize: 14,
              fontWeight: &#x27;bold&#x27;
            }
          },
          data: [
            { value: 8, name: onlineLabel, itemStyle: { color: &#x27;#10b981&#x27; } },
            { value: 2, name: offlineLabel, itemStyle: { color: &#x27;#ef4444&#x27; } },
            { value: 1, name: maintenanceLabel, itemStyle: { color: &#x27;#f59e0b&#x27; } }
          ]
        }
      ],
      backgroundColor: &#x27;transparent&#x27;,
      textStyle: { color: &#x27;#ffffff&#x27; },
      animation: true,
      animationDuration: 1000
    };
  });

  constructor(
    private api: ApiService,
    private dashboardService: DashboardService,
    private auth: AuthService,
    public i18n: I18nService,
    private material: MaterialService,
    private guestService: GuestService
  ) {
    super();
    effect(() &#x3D;&gt; {
      this.i18n.currentLanguage();
      this.updateChartLabels();
    });
  }

  ngOnInit(): void {
    this.updateChartLabels();
    this.loadDashboardData();
  }

  updateChartLabels(): void {
    // Chart options are computed signals, automatic update
  }

  navigateTo(route: string): void {
    this.router.navigateByUrl(route);
  }

  loadDashboardData(): void {
    this.errorMessage.set(&#x27;&#x27;);
    this.loadingState.set(true);

    const companyId &#x3D; this.auth.currentUser()?.companyId;
    // For demo/dev purposes, load mock data even without company ID
    // In production, this would return or handle error
    
    const companyIdStr &#x3D; companyId ? String(companyId) : &#x27;mock-company-id&#x27;;

    // Load dashboard stats
    this.subscribe(
      this.dashboardService.getDashboardStats(companyIdStr),
      (response) &#x3D;&gt; {
        this.dashboardData.set({
          id: companyIdStr,
          companyId: companyIdStr,
          summary: response.summary,
          chartData: response.chart_data,
          recentActivity: response.recent_activity || []
        } as any);
        this.loadingState.set(false);
      },
      (error) &#x3D;&gt; {
        // Fallback to mock data if API fails
        this.loadingState.set(false);
      }
    );

    // Mock initial stats
    this.statisticsData.set({
      totalEmployees: 142,
      activeEmployees: 128,
      totalVisitors: 45,
      activeVisitors: 12,
      totalGuests: 8,
      activeGuests: 3,
      totalVehicles: 85,
      parkedVehicles: 60,
      totalEvents: 5,
      upcomingEvents: 2,
      totalDoors: 24,
      onlineDoors: 22,
      totalLocations: 3,
      activeLocations: 3,
      totalShifts: 4,
      activeShifts: 2,
      totalReports: 156,
      unreadNotifications: 3
    });
  }

  loadVisitorStatistics(): void {}
  loadGuestStatistics(): void {}
  loadVehicleStatistics(): void {}
  loadDeviceStatistics(): void {}

  getRecentCheckIns(): any[] {
    return [
      { id: &#x27;1&#x27;, name: &#x27;John Doe&#x27;, time: &#x27;9:15 AM&#x27;, status: &#x27;present&#x27; },
      { id: &#x27;2&#x27;, name: &#x27;Jane Smith&#x27;, time: &#x27;9:20 AM&#x27;, status: &#x27;present&#x27; },
      { id: &#x27;3&#x27;, name: &#x27;Mike Johnson&#x27;, time: &#x27;9:25 AM&#x27;, status: &#x27;late&#x27; }
    ];
  }

  getUpcomingEvents(): any[] {
    return [
      { id: &#x27;1&#x27;, name: &#x27;Team Meeting&#x27;, date: &#x27;Today 2:00 PM&#x27;, type: &#x27;Meeting&#x27; },
      { id: &#x27;2&#x27;, name: &#x27;Training Session&#x27;, date: &#x27;Tomorrow 10:00 AM&#x27;, type: &#x27;Training&#x27; },
      { id: &#x27;3&#x27;, name: &#x27;Company Event&#x27;, date: &#x27;Friday 6:00 PM&#x27;, type: &#x27;Event&#x27; }
    ];
  }

  getCurrentDate(): string {
    return new Date().toLocaleDateString(&#x27;en-US&#x27;, {
      weekday: &#x27;long&#x27;, year: &#x27;numeric&#x27;, month: &#x27;long&#x27;, day: &#x27;numeric&#x27;
    });
  }

  refreshData(): void {
    this.material.showInfoSnackbar(this.i18n.t(&#x27;pages.dashboard.refreshingDashboardData&#x27;));
    this.loadDashboardData();
  }

  t(key: string): string {
    return this.i18n.translate(key);
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'ModuleShortcut.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
