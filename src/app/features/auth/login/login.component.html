<div class="login-container min-h-screen flex items-center justify-center p-4 relative">
  <!-- Background Graphics -->
  <!-- Background Graphics handled globally -->

  <!-- Header with Back to Landing Button -->
  <div
    class="fixed top-0 left-0 right-0 z-50 glass-card !rounded-none !border-x-0 !border-t-0 border-b border-white/10 p-4">
    <div class="container mx-auto flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <button (click)="navigateToLanding()" class="glass-button flex items-center space-x-2"
          title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å" aria-label="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
          <span class="text-lg">‚Üê</span>
          <span class="hidden md:inline font-medium">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
        </button>
        <div class="text-3xl">üé•</div>
        <h1 class="text-xl font-bold ai-gradient-text">IVAP Platform</h1>
      </div>
    </div>
  </div>

  <app-glass-card customClass="max-w-md w-full relative z-10 mt-20">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold bg-gradient-to-r from-primary-500 to-purple-600 bg-clip-text text-transparent mb-2">
        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
      </h1>
      <p class="text-gray-600 dark:text-gray-400">
        ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
      </p>
    </div>

    <!-- Login Form -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
      <!-- Username -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
          ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ <span class="text-red-500">*</span>
        </label>
        <input formControlName="username" type="text" class="glass-input w-full"
          placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"
          [class.border-red-500]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
          aria-label="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ" aria-required="true"
          [attr.aria-invalid]="loginForm.get('username')?.invalid && loginForm.get('username')?.touched" />
        @if (loginForm.get('username')?.invalid && loginForm.get('username')?.touched) {
          <p class="text-red-500 text-sm mt-1">
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
          </p>
        }
      </div>

      <!-- Password -->
      <div>
        <label class="block text-sm font-medium mb-2 text-gray-700 dark:text-gray-300">
          ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="text-red-500">*</span>
        </label>
        <input formControlName="password" type="password" class="glass-input w-full"
          placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"
          [class.border-red-500]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
          aria-label="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô" aria-required="true"
          [attr.aria-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched" />
        @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
          <p class="text-red-500 text-sm mt-1">
            ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
          </p>
        }
      </div>

      <!-- Error Message -->
      @if (errorMessage()) {
        <div class="glass bg-red-500/20 border border-red-500 p-4 rounded-lg" role="alert"
          aria-live="polite">
          <p class="text-red-700 dark:text-red-400 text-sm">
            ‚úó {{ errorMessage() }}
          </p>
        </div>
      }

      <!-- Submit Button -->
      <app-glass-button type="submit" variant="primary" [fullWidth]="true" [loading]="loading()"
        [disabled]="loginForm.invalid || loading()" aria-label="‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö" [attr.aria-busy]="loading()">
        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
      </app-glass-button>
    </form>

    <!-- Register Button -->
    <div class="mt-6">
      <app-glass-button (clicked)="navigateToRegister()" variant="secondary" [fullWidth]="true"
        aria-label="‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà">
        ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏´‡∏°‡πà
      </app-glass-button>
    </div>

    <!-- Forgot Password Link -->
    <div class="text-center mt-6">
      <a routerLink="/portal/forgot-password" class="text-sm text-gray-600 dark:text-gray-400 hover:text-primary-500">
        ‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô?
      </a>
    </div>

    <!-- Theme Toggle -->
    <div class="mt-8 flex justify-center space-x-4">
      <button (click)="toggleTheme()" class="text-sm text-gray-600 dark:text-gray-400 hover:text-primary-500"
        [attr.aria-label]="getThemeIcon()">
        {{ getThemeIcon() }}
      </button>
    </div>
  </app-glass-card>
</div>
